(function(t){function e(e){for(var n,r,o=e[0],c=e[1],u=e[2],d=0,p=[];d<o.length;d++)r=o[d],i[r]&&p.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],n=!0,o=1;o<s.length;o++){var c=s[o];0!==i[c]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=s[0]))}return t}var n={},i={1:0},a=[];function r(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=n,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([9,0]),s()})({"+umE":function(t,e,s){},9:function(t,e,s){t.exports=s("Vtdi")},C785:function(t,e,s){"use strict";var n=s("O4OS"),i=s.n(n);i.a},DfaC:function(t,e,s){"use strict";var n=s("hyVt"),i=s.n(n);i.a},FGKz:function(t,e,s){"use strict";var n=s("utu2"),i=s.n(n);i.a},Jubf:function(t,e,s){},O4OS:function(t,e,s){},Vtdi:function(t,e,s){"use strict";s.r(e);s("VRzm");var n=s("Kw5r"),i=s("L2JU"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"mymusicmastery"}},[s("Header",{attrs:{login:t.login,newEntry:t.newEntry,profile:t.profile,home:t.home,admin:t.admin},on:{update:t.updateData}}),s("div",{staticClass:"container"},[s("Login",{directives:[{name:"show",rawName:"v-show",value:t.login,expression:"login"}],on:{update:t.updateData}}),t.login?t._e():s("div",[t.newEntry?s("Steps",{attrs:{entryUID:t.entryUID,database:t.database,userUID:t.user.uid,existingEntry:t.existingEntry},on:{update:t.updateData}}):t._e(),t.profile?s("Profile",{attrs:{user:t.user}}):t._e(),t.home?s("Home",{attrs:{entries:t.user.entries,customPieces:t.user.customPieces,customStrategies:t.user.customStrategies,updated:t.updated}}):t._e(),t.admin?s("Admin"):t._e()],1)],1)],1)},r=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("transition",{attrs:{name:"fade"}},[s("fieldset",[s("p",[t._v("Login")]),s("div",{attrs:{id:"firebaseui-auth-container"}})])])],1)},c=[],u=s("iqUP"),l=s("WC58"),d={name:"Login",data:function(){return{uiConfig:{signInSuccessUrl:"http://localhost:8080/",signInOptions:[u["auth"].GoogleAuthProvider.PROVIDER_ID,u["auth"].FacebookAuthProvider.PROVIDER_ID],tosUrl:""}}},beforeMount:function(){var t=this,e={},s=Object(u["database"])();Object(u["auth"])().onAuthStateChanged(function(n){if(n)e.phoneNumber=n.phoneNumber,e.providerData=n.providerData,e.name=n.displayName,e.email=n.email,e.photoUrl=n.photoURL,e.uid=n.uid,t.$store.dispatch("user/setUserInfo",e),t.$store.dispatch("user/getUserInfo",e),t.$store.commit("container/setLogin",!1),t.$emit("update",{ref:"database",val:s});else{var i=new l["auth"].AuthUI(auth());i.start("#firebaseui-auth-container",t.uiConfig),t.$store.commit("container/setLogin",!0)}},function(t){console.log(t)})}},p=d,m=(s("r577"),s("KHd+")),f=Object(m["a"])(p,o,c,!1,null,"6c4c4486",null),v=f.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"steps"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 offset-md-2 col-sm-7 offset-sm-3 form-box"},[s("Step1",{directives:[{name:"show",rawName:"v-show",value:t.step1,expression:"step1"}],attrs:{pieces:t.pieces}}),t.step2?s("Step2"):t._e(),t.step3?s("Step3"):t._e(),t.step4?s("Step4"):t._e()],1)]),s("br"),s("br")])},h=[],y=(s("NO8f"),s("a1Th"),s("pIFo"),s("rGqo"),s("yt8O"),s("RW0V"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",{attrs:{name:"fade"}},[t.step1_a?s("fieldset",[s("div",{staticClass:"form-top"},[s("div",{staticClass:"form-top-left"},[s("p",[t._v("Select Piece(s):")])]),s("div",{staticClass:"form-top-right"})]),s("div",{staticClass:"form-bottom"},[s("multiselect",{attrs:{value:t.selectedPieces,placeholder:"Select Piece",label:"name","track-by":"id",multiple:!0,taggable:!0,options:t.customPieces.concat(t.rows)},on:{tag:t.addTag,input:t.checkInput},scopedSlots:t._u([{key:"option",fn:function(e){return[s("div",{staticClass:"option__desc"},[s("div",{staticStyle:{display:"inline-block"}},["User Entry"===e.option.source||e.option.custom?s("span",{staticClass:"option__small"},[s("svg",{staticClass:"svg-inline--fa fa-star fa-w-18",staticStyle:{height:"12px","margin-right":"3px",color:"#dada43"},attrs:{"aria-hidden":"true","data-prefix":"fas","data-icon":"star",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[s("path",{attrs:{fill:"currentColor",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}})])]):t._e()]),s("div",{staticStyle:{display:"inline-block"}},[s("span",{staticClass:"option__title"},[t._v("\n                                    "+t._s(e.option.name)+"\n                                ")])])])]}}])}),s("br"),t.selectedPieces.length?s("p",[t._v("Selected Pieces")]):t._e(),s("ol",t._l(t.selectedPieces,function(e,n){return s("li",{key:n},[t._v("\n                        "+t._s(e.name)+" "),s("span",{staticClass:"text-muted small"},[t._v(" - "+t._s(e.source))])])})),s("br"),s("br"),s("br"),s("button",{staticClass:"go btn btn-next",class:{disabled:!t.selectedPieces.length},attrs:{type:"button",disabled:!t.selectedPieces.length},on:{click:function(e){t.go("1_b")}}},[t._v("Next")])],1)]):t._e()]),s("transition",{attrs:{name:"fade"}},[t.step1_b?s("fieldset",[s("div",{staticClass:"form-top"},[s("div",{staticClass:"form-top-left"},[s("p",[t._v("Set Tempo(s):")])]),s("div",{staticClass:"form-top-right"})]),s("div",{staticClass:"form-bottom"},[t._l(t.selectedPieces,function(e,n){return s("div",{key:n,staticClass:"form-group"},[s("div",{staticClass:"input-group"},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[t._v("\n                                "+t._s(e.name+" ")+" "),s("span",{staticClass:"text-muted small"},[t._v(" - "+t._s(e.source))])])]),s("input",{staticClass:"form-control",attrs:{type:"text","data-index":n,placeholder:"Enter Tempo"},domProps:{value:e.tempo},on:{change:t.updateTempo}})]),s("span",[t._v(t._s(e.temp))])])}),s("br"),s("br"),s("button",{staticClass:"btn go btn-previous",attrs:{type:"button"},on:{click:function(e){t.go("1_a")}}},[t._v("Previous")]),s("button",{staticClass:"btn go btn-next",attrs:{type:"button"},on:{click:function(e){t.go(2)}}},[t._v("Next")])],2)]):t._e()])],1)}),b=[],_=(s("f3/d"),s("jl8+")),x=s.n(_),C={name:"Step1",components:{Multiselect:x.a},beforeMount:function(){},props:{},data:function(){return{step1_a:!0,step1_b:!1}},computed:Object(i["b"])({selectedPieces:function(t){return t.entry.selectedPieces},rows:function(t){return t.gsheets.musicPieces.rows?t.gsheets.musicPieces.rows.slice(0):[]},customPieces:function(t){return t.user.user.customPieces?t.user.user.customPieces.slice(0):[]}}),methods:{customLabel:function(t){var e=t.name,s=t.id;return"".concat(e," â€“ ").concat(s)},handleNewEntry:function(t){return this.$parent.handleNewEntry(t)},updateTempo:function(t){var e=parseInt(t.target.getAttribute("data-index"));this.$store.commit("entry/updatePieceTempo",{ind:e,tempo:t.target.value})},addTag:function(t){var e={name:t,source:"User Entry",tempo:"",measures:[],strategies:[],id:this.$parent.uuidv4()};this.rows.push(e),this.$store.commit("entry/addToSelectedPieces",e)},checkInput:function(t){if(!t)return!1;this.$store.commit("entry/updateSelectedPieces",t)},go:function(t){var e=this;"1_b"===t?(this["step1_a"]=!1,setTimeout(function(){e["step1_b"]=!0},500)):"1_a"===t?(this["step1_b"]=!1,setTimeout(function(){e["step1_a"]=!0},500)):this.$parent.go(t)}}},S=C,P=Object(m["a"])(S,y,b,!1,null,null,null),w=P.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",{attrs:{name:"fade"}},[s("fieldset",[s("div",{staticClass:"form-top"},[s("div",{staticClass:"form-top-left"},[s("p",[t._v("Assign Measures:")])]),s("div",{staticClass:"form-top-right"})]),s("div",{staticClass:"form-bottom"},[t._l(t.selectedPieces,function(e,n){return s("div",{key:n,staticClass:"form-group"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("\n                            "+t._s(e.name+" - "+e.source)+"\n                        ")]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"input-group mb-3"},[s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Measure"}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Tempo"}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.addMeasure(n,e)}}},[t._v("Add Measure")])])]),s("h5",{staticClass:"card-title"},[t._v("Measures")]),e.measures&&e.measures.length?t._e():s("p",[t._v("No measures added")]),t._l(e.measures,function(e,n){return s("p",{key:n,staticClass:"card-text"},[t._v(t._s(e.measure)+" - Tempo "+t._s(e.tempo))])})],2)])])}),s("button",{staticClass:"btn go btn-previous",attrs:{type:"button"},on:{click:function(e){t.go(1)}}},[t._v("Previous")]),s("button",{staticClass:"btn go btn-next",attrs:{type:"button"},on:{click:function(e){t.go(3)}}},[t._v("Next")])],2)])])],1)},k=[],I={name:"Step2",beforeMount:function(){},props:{},data:function(){return{}},computed:Object(i["b"])({selectedPieces:function(t){return t.entry.selectedPieces}}),methods:{go:function(t){this.$parent.go(t)},addMeasure:function(t,e){var s=e.target.parentElement.previousElementSibling,n=s.previousElementSibling;n.value.trim()&&s.value.trim()&&(this.$store.commit("entry/addToMeasure",{index:t,measure:{measure:n.value,tempo:s.value}}),n.value="",s.value="")}}},U=I,M=Object(m["a"])(U,E,k,!1,null,null,null),$=M.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.showModal?s("Modal",{on:{close:t.closeModal}},[s("h3",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.customStrategy.title))]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.customStrategy.description,expression:"customStrategy.description"}],staticClass:"form-control",attrs:{slot:"body",placeholder:"add description"},domProps:{value:t.customStrategy.description},on:{input:function(e){e.target.composing||t.$set(t.customStrategy,"description",e.target.value)}},slot:"body"})]):t._e(),s("transition",{attrs:{name:"fade"}},[s("fieldset",[s("div",{staticClass:"form-top"},[s("div",{staticClass:"form-top-left"},[s("p",[t._v("Assign Practice Strategies:")])]),s("div",{staticClass:"form-top-right"})]),s("div",{staticClass:"form-bottom"},[t._l(t.selectedPieces,function(e,n){return s("div",{key:n,staticClass:"form-group"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("\n                            "+t._s(e.name+" - "+e.source)+"\n                        ")]),s("div",{staticClass:"card-body"},[e.measures&&e.measures.length?t._e():s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("multiselect",{attrs:{placeholder:"Select strategy",index:n,"track-by":"id",label:"label",value:e.strategies,multiple:!0,taggable:!0,options:t.customStrategies.concat(t.strategies)},on:{input:t.pieceStratUpdate,tag:t.addTagPiece},scopedSlots:t._u([{key:"option",fn:function(e){return[s("div",{staticClass:"option__desc"},[s("div",{staticStyle:{display:"inline-block"}},[e.option.custom?s("span",{staticClass:"option__small"},[s("svg",{staticClass:"svg-inline--fa fa-star fa-w-18",staticStyle:{height:"12px","margin-right":"3px",color:"#dada43"},attrs:{"aria-hidden":"true","data-prefix":"fas","data-icon":"star",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[s("path",{attrs:{fill:"currentColor",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}})])]):t._e()]),s("div",{staticStyle:{display:"inline-block"}},[s("span",{staticClass:"option__title"},[t._v("\n                                                                "+t._s(e.option.label)+"\n                                                            ")])])])]}}])}),s("br"),t.selectedStrategy[("User Entry"===e.source?"U":"")+e.id]?s("p",[t._v(t._s(t.selectedStrategy[("User Entry"===e.source?"U":"")+e.id].description))]):t._e(),s("br"),e.strategies&&e.strategies.length?t._e():s("p",[t._v("No strategies added")]),e.strategies&&e.strategies.length?s("p",[t._v("Selected Strategies")]):t._e(),s("ol",t._l(e.strategies,function(e,n){return s("li",{key:n},[t._v("\n                                                "+t._s(e.label)+"\n                                                "),e.description?s("ul",[s("li",[t._v(t._s(e.description))])]):t._e()])})),s("br"),s("br")],1)])]),s("h5",{staticClass:"card-title"},[t._v("Measures")]),e.measures&&e.measures.length?t._e():s("p",[t._v("No measures added")]),t._l(e.measures,function(i,a){return s("div",{key:a},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("p",{staticClass:"card-text"},[t._v(t._s(i.measure)+" - Tempo "+t._s(i.tempo))]),s("multiselect",{attrs:{index:n,indexM:a,"track-by":"id",label:"label",value:i.strategies,multiple:!0,taggable:!0,options:t.customStrategies.concat(t.strategies)},on:{input:t.measureStratUpdate,tag:t.addTagPiece},scopedSlots:t._u([{key:"option",fn:function(e){return[s("div",{staticClass:"option__desc"},[s("div",{staticStyle:{display:"inline-block"}},[e.option.custom?s("span",{staticClass:"option__small"},[s("svg",{staticClass:"svg-inline--fa fa-star fa-w-18",staticStyle:{height:"12px","margin-right":"3px"},attrs:{"aria-hidden":"true","data-prefix":"fas","data-icon":"star",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[s("path",{attrs:{fill:"currentColor",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}})])]):t._e()]),s("div",{staticStyle:{display:"inline-block"}},[s("span",{staticClass:"option__title"},[t._v("\n                                                                "+t._s(e.option.label)+"\n                                                            ")])])])]}}])}),s("br"),t.selectedStrategy[("User Entry"===e.source?"U":"")+e.id+i.id]?s("p",[t._v(t._s(t.selectedStrategy[("User Entry"===e.source?"U":"")+e.id+i.id].description))]):t._e(),s("br"),i&&i.strategies.length?t._e():s("p",[t._v("No strategies added for measure")]),i&&i.strategies.length?s("p",[t._v("Selected Strategies")]):t._e(),s("ol",t._l(i.strategies,function(e,n){return s("li",{key:n},[t._v("\n                                                "+t._s(e.label)+"\n                                                "),e.description?s("ul",[s("li",[t._v(t._s(e.description))])]):t._e()])})),s("br"),s("br")],1)])])})],2)])])}),s("button",{staticClass:"btn go btn-previous",attrs:{type:"button"},on:{click:function(e){t.go(2)}}},[t._v("Previous")]),s("button",{staticClass:"btn go btn-next",attrs:{type:"button"},on:{click:function(e){t.go(4)}}},[t._v("Next")])],2)])])],1)},N=[],D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"my-modal-mask"},[s("div",{staticClass:"my-modal-wrapper"},[s("div",{staticClass:"my-modal-container"},[s("div",{staticClass:"my-modal-header"},[t._t("header",[t._v("\n                default header\n              ")])],2),s("div",{staticClass:"my-modal-body"},[t._t("body",[t._v("\n                default body\n              ")])],2),s("div",{staticClass:"my-modal-footer"},[s("button",{staticClass:"my-modal-default-button btn btn-success",on:{click:function(e){t.$emit("close")}}},[t._v("\n                  OK\n                ")]),s("br")])])])])])],1)},A=[],O={name:"Modal",beforeMount:function(){},props:{},data:function(){return{}},methods:{}},L=O,j=(s("foop"),Object(m["a"])(L,D,A,!1,null,"47810f62",null)),R=j.exports,H={name:"Step3",components:{Modal:R,Multiselect:x.a},beforeMount:function(){},props:{},data:function(){return{showModal:!1,selectedStrategy:{},customStrategy:{title:"",id:"",description:"",pieceIndex:null,measureIndex:null}}},computed:Object(i["b"])({selectedPieces:function(t){return t.entry.selectedPieces},strategies:function(t){return t.gsheets.practiceStrategies},customStrategies:function(t){return t.user.user.customStrategies?t.user.user.customStrategies.slice(0):[]}}),methods:{pieceStratUpdate:function(t){var e=event.currentTarget.parentElement.parentElement.parentElement.parentElement.getAttribute("index");this.$store.commit("entry/updateSelectedPieceStrat",{index:parseInt(e),strategies:t})},measureStratUpdate:function(t){var e=event.currentTarget.parentElement.parentElement.parentElement.parentElement.getAttribute("index"),s=event.currentTarget.parentElement.parentElement.parentElement.parentElement.getAttribute("indexM");this.$store.commit("entry/updateSelectedMeasureStrat",{index:parseInt(e),indexM:parseInt(s),strategies:t})},addTagPiece:function(t){this.customStrategy.id=this.$parent.uuidv4(),this.customStrategy.title=t,this.customStrategy.pieceIndex=event.currentTarget.parentElement.parentElement.getAttribute("index"),this.customStrategy.measureIndex=event.currentTarget.parentElement.parentElement.getAttribute("indexM")||null,this.showModal=!0},go:function(t){this.$parent.go(t)},addStrategy:function(t,e,s){console.log(this.selectedStrategy[t]),this.selectedStrategy[t]&&(this.selectedStrategy[t].id?(void 0===s?this.$store.commit("entry/addToSelectedPieceStrat",{index:e,strat:this.selectedStrategy[t]}):this.$store.commit("entry/addToSelectedMeasureStrat",{index:e,indexM:s,strat:this.selectedStrategy[t]}),delete this.selectedStrategy[t]):(this.customStrategy.id=this.$parent.uuidv4(),this.customStrategy.refId=t,this.customStrategy.title=this.selectedStrategy[t].label,this.customStrategy.pieceIndex=e,this.customStrategy.measureIndex=s,this.showModal=!0))},handleNewEntry:function(t){return Object.keys(t).reduce(function(e,s){return e+=t[s],e},"")},closeModal:function(){if(this.customStrategy.description){var t={label:this.customStrategy.title,id:this.customStrategy.id,description:this.customStrategy.description,custom:!0};this.customStrategy.measureIndex?this.$store.commit("entry/addToSelectedMeasureStrat",{index:this.customStrategy.pieceIndex,indexM:this.customStrategy.measureIndex,strat:t}):this.$store.commit("entry/addToSelectedPieceStrat",{index:this.customStrategy.pieceIndex,strat:t}),this.$store.commit("gsheets/addToPracticeStrategies",t),this.customStrategy.description=""}this.showModal=!1}}},z=H,F=Object(m["a"])(z,T,N,!1,null,null,null),V=F.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.showModal?s("Modal",{on:{close:t.closeModal}},[s("h3",{attrs:{slot:"header"},slot:"header"},[t._v("Entry Name")]),s("input",{staticClass:"form-control",attrs:{slot:"body",type:"text",placeholder:"specify entry name"},domProps:{value:t.selectedPieces.entryName},on:{input:t.updateEntryName},slot:"body"})]):t._e(),s("transition",{attrs:{name:"fade"}},[s("fieldset",[s("div",{staticClass:"form-top"},[s("div",{staticClass:"form-top-left"},[s("p",[t._v("Add Notes:")])]),s("div",{staticClass:"form-top-right"})]),s("div",{staticClass:"form-bottom"},[t._l(t.selectedPieces,function(e,n){return s("div",{key:n,staticClass:"form-group"},[s("h5",[t._v(t._s(e.name)+" "),s("span",{staticClass:"text-muted small"},[t._v(" - "+t._s(e.source))])]),s("textarea",{staticClass:"form-control",attrs:{index:n,placeholder:"Notes"},domProps:{value:e.notes},on:{change:t.updateNotes}}),s("br"),s("input",{staticClass:"form-control",attrs:{type:"text",index:n,placeholder:"Video Link"},domProps:{value:e.link},on:{change:t.updateLink}}),s("br")])}),s("button",{staticClass:"btn go btn-previous",attrs:{type:"button"},on:{click:function(e){t.go(3)}}},[t._v("Previous")]),t.entryUID?t._e():s("button",{staticClass:"btn go btn-previous",attrs:{type:"button"},on:{click:function(e){t.saveEntry()}}},[t._v("Save Entry")]),t.entryUID?s("button",{staticClass:"btn go btn-previous",attrs:{type:"button"},on:{click:function(e){t.saveEntry(!0)}}},[t._v("Update Entry")]):t._e(),t.entryUID?s("button",{staticClass:"btn go btn-previous",attrs:{type:"button"},on:{click:function(e){t.pdf()}}},[t._v("Generate CheckList")]):t._e()],2)])])],1)},K=[];s("KKXr"),s("tUrg");function Y(t){var e=new jsPDF("p","pt");e.setFontSize(12),e.setTextColor(0),e.setFontStyle("bold"),J(e),e.setTextColor(0);var s=[{title:"Piece",dataKey:"name"},{title:"Measure",dataKey:"measures"}];return e.autoTable(s,t,{theme:"grid",startY:80,tableWidth:575,margin:10,styles:{lineColor:[0,0,0]},drawHeaderCell:function(t,e){return!1},drawHeaderRow:function(t,e){return!1},drawRow:function(t,s){t.index>0&&(e.addPage(),J(e),s.cursor.y=80),s.row.raw.measures&&s.row.raw.measures.length?t.height=200:s.row.strategies&&(t.height=20*s.row.raw.strategies.length),t.height<80&&(t.height=80),60+s.row.raw.source.length/50*20>t.height&&(t.height=60+20*Math.ceil(s.row.raw.source.length/50))},drawCell:function(t,s){if(0===s.column.index){if(t.width=184,s.row.raw.source){t.text.push(""),t.text.push("Source:");t.text=t.text.concat(q(40,s.row.raw.source)),t.text.push("")}s.row.raw.tempo&&t.text.push("Assigned tempo: "+s.row.raw.tempo)}if(1===s.column.index){if(s.row.raw.measures&&s.row.raw.measures.length){var n,i=0,a=0,r=!1;s.row.raw.measures.map(function(o,c){n=20*o.strategies.length,n<=40&&(n=60);var u=G(13,o.measure);e.rect(t.x,t.y+i,85,n),e.text("m. "+u,t.x+4,t.y+i+14),e.text("tempo "+o.tempo,t.x+4,t.y+i+29),e.setFontSize(9);var l=0;if(o.strategies.map(function(s,n){n-=l;var o=G(19,s.label);e.rect(t.x+85,t.y+i+20*n,306,20),e.text(o,t.x+87,t.y+i+20*n+14),e.line(369,t.y+i+20*n,369,t.y+i+20*n+20),e.line(393,t.y+i+20*n,393,t.y+i+20*n+20),e.line(417,t.y+i+20*n,417,t.y+i+20*n+20),e.line(441,t.y+i+20*n,441,t.y+i+20*n+20),e.line(465,t.y+i+20*n,465,t.y+i+20*n+20),e.line(489,t.y+i+20*n,489,t.y+i+20*n+20),e.line(513,t.y+i+20*n,513,t.y+i+20*n+20),e.line(537,t.y+i+20*n,537,t.y+i+20*n+20),i+20*n>=720?(l=n+1,e.addPage(),J(e),i=0,r=!0,a=n-l):a=n}),e.setFontSize(10),s.row.raw.measures.length===c+1&&s.row.raw.notes){r||(a=c);var d=q(80,s.row.raw.notes),p=0;i+20*(d.length+2)>630&&(i=0,a=0,e.addPage(),J(e)),i<40&&(i=40),s.row.raw.link&&(p=1,e.setTextColor(0,0,255),e.text(s.row.raw.link,t.x+4,t.y+20*a+38+12*(d.length+1)+i),e.setTextColor(0,0,0)),e.rect(t.x,t.y+20*a+20+i,391,20+20*(p+d.length)),e.text("Notes / Comments:",t.x+2,t.y+20*a+32+i),d.map(function(s,n){e.text(s,t.x+4,t.y+20*a+32+12*(n+1)+i)})}i+=n})}else if(e.setFontSize(9),s.row.raw.strategies||(s.row.raw.strategies=[]),s.row.raw.strategies.map(function(n,i){var a=G(19,n.label);if(e.rect(t.x+85,t.y+20*i,306,20),e.text(a,t.x+87,t.y+20*i+14),e.line(369,t.y+20*i,369,t.y+20*i+20),e.line(393,t.y+20*i,393,t.y+20*i+20),e.line(417,t.y+20*i,417,t.y+20*i+20),e.line(441,t.y+20*i,441,t.y+20*i+20),e.line(465,t.y+20*i,465,t.y+20*i+20),e.line(489,t.y+20*i,489,t.y+20*i+20),e.line(513,t.y+20*i,513,t.y+20*i+20),e.line(537,t.y+20*i,537,t.y+20*i+20),s.row.raw.strategies.length===i+1&&(e.setFontSize(10),s.row.raw.notes)){var r=q(80,s.row.raw.notes),o=0;s.row.raw.link&&(o=1,e.setTextColor(0,0,255),e.text(s.row.raw.link,t.x+4,t.y+20*i+41+12*(r.length+1)),e.setTextColor(0,0,0)),e.rect(t.x,t.y+20*i+20,391,20+20*(o+r.length)),e.text("Notes / Comments:",t.x+2,t.y+20*i+33),r.map(function(s,n){e.text(s,t.x+4,t.y+20*i+33+12*(n+1))})}}),!s.row.raw.strategies.length&&s.row.raw.notes){var o=q(80,s.row.raw.notes),c=0;s.row.raw.link&&(c=1,e.setTextColor(0,0,255),e.text(s.row.raw.link,t.x+4,t.y+20+41+12*(o.length+1)),e.setTextColor(0,0,0)),e.rect(t.x,t.y+20+20,391,20+20*(c+o.length)),e.text("Notes / Comments:",t.x+2,t.y+20+33),o.map(function(s,n){e.text(s,t.x+4,t.y+20+33+12*(n+1))})}return!1}}}),e}var G=function(t,e){return e.length>t&&(e=e.substring(0,t).trim()+".."),e},q=function(t,e){var s="",n=[];return e.split(" ").map(function(e){while(e.length>t)n.push(s+e.substring(0,t-s.length)),e=e.substring(t-s.length),s=" ";s.length+e.length<=t?s+=e+" ":(n.push(s),s=e+=" ")}),s&&n.push(s),n};function J(t){t.setFontSize(9),t.setFontType("bold"),t.rect(10,40,184,40),t.text("Piece",12,63),t.rect(194,40,85,40),t.text("Practice Passage",196,63),t.rect(279,40,90,40),t.text("Practice Strategy",281,63),t.rect(369,40,216,40),t.line(369,60,585,60),t.line(393,60,393,80),t.line(417,60,417,80),t.line(441,60,441,80),t.line(465,60,465,80),t.line(489,60,489,80),t.line(513,60,513,80),t.line(537,60,537,80),t.text("M",377,73),t.text("T",401,73),t.text("W",425,73),t.text("H",449,73),t.text("F",473,73),t.text("Sat",493,73),t.text("Sun",517,73),t.text("Mastery",545,73),t.setFontType("normal"),t.text("Mark time spent / check days practiced",387,53)}console.log(Y);var X,W,Z={name:"Step4",components:{Modal:R},beforeMount:function(){},props:{},computed:Object(i["b"])({entryUID:function(t){return t.container.entryUID},userUID:function(t){return t.user.user.uid},selectedPieces:function(t){return t.entry.selectedPieces}}),data:function(){return{showModal:!1}},methods:{go:function(t){this.$parent.go(t)},saveEntry:function(){this.showModal=!0},updateLink:function(t){this.$store.commit("entry/setLink",{index:event.target.getAttribute("index"),link:t.target.value})},updateNotes:function(t){this.$store.commit("entry/setNotes",{index:event.target.getAttribute("index"),notes:t.target.value})},updateEntryName:function(t){this.$store.commit("entry/setName",t.target.value)},pdf:function(){var t=Y(this.selectedPieces),e=this.extractUniqueStrategies();this.writeStrategies(t,e),t.save("checkList.pdf")},writeStrategies:function(t,e){var s=0;t.addPage(),t.text("Strategy Descriptions:",20,20);var n=0,i=0;e.map(function(e,a){t.text(e.label+":",20,40+20*i+n),e.description=e.description.replace(/\n/g," "),e.description=e.description.replace(/\r/g,""),q(125,e.description).map(function(e){e.trim()||(e="Not Available"),n+=20,t.text(e+" ",20,40+20*i+n)}),n+20*i>=720&&(s=i+1,t.addPage(),n=0,i-=s),i+=1})},extractUniqueStrategies:function(){var t={},e=[];return this.selectedPieces.map(function(s){s.strategies||(s.strategies=[]),s.strategies.map(function(s){t[s.id]||(t[s.id]=!0,e.push({id:s.id,label:s.label,description:s.description}))}),s.measures||(s.measures=[]),s.measures.map(function(s){s.strategies.map(function(s){t[s.id]||(t[s.id]=!0,e.push({id:s.id,label:s.label,description:s.description}))})})}),e},closeModal:function(){if(!this.selectedPieces.entryName.trim())return this.selectedPieces.entryName=this.selectedPieces.entryName.trim(),!1;var t=this.selectedPieces.reduce(function(t,e){return("User Entry"===e.source||e.custom)&&t.pieces.push({name:e.name,id:e.id}),e.strategies&&e.strategies.map(function(e){e.custom&&t.strategies.push({label:e.label,description:e.description,id:e.id})}),e.measures&&e.measures.map(function(e){e.strategies.map(function(e){e.custom&&t.strategies.push({label:e.label,description:e.description,id:e.id})})}),t},{pieces:[],strategies:[]});this.entryUID?((t.pieces.length||t.strategies.length)&&this.$store.dispatch("entry/updateUserEntry",{userUID:this.userUID,userEntries:t}),this.$store.dispatch("entry/updateEntry",{userUID:this.userUID,entryUID:this.entryUID,selectedPieces:this.selectedPieces})):((t.pieces.length||t.strategies.length)&&this.$store.dispatch("entry/updateUserEntry",{userUID:this.userUID,userEntries:t}),this.$store.dispatch("entry/addEntry",{userUID:this.userUID,selectedPieces:this.selectedPieces}))}}},Q=Z,tt=Object(m["a"])(Q,B,K,!1,null,null,null),et=tt.exports,st={name:"Steps",components:{Step1:w,Step2:$,Step3:V,Step4:et},props:{},beforeMount:function(){var t=this;this.$store.dispatch("gsheets/getMusicPieces"),t.existingEntry&&(t.$store.commit("entry/setSelectedPieces",[]),Object.keys(t.existingEntry).map(function(e){"entryName"===e?t.$store.commit("entry/setEntryName",t.existingEntry[e]):t.$store.commit("entry/addToSelectedPieces",t.existingEntry[e])}),t.step1=!1,t.step4=!0,t.step=4)},computed:Object(i["b"])({existingEntry:function(t){return t.container.existingEntry},entryUID:function(t){return t.container.entryUID},userUID:function(t){return t.user.uid},selectedPieces:function(t){return t.entry.selectedPieces},pieces:function(t){return t.gsheets.musicPieces}}),created:function(){},data:function(){return{sourceMap:{},step1:!0,step2:!1,step3:!1,step3first:!1,step4:!1,login:!1,step:1}},methods:{handleNewEntry:function(t){return Object.keys(t).reduce(function(e,s){return e+=t[s],e},"")},exitEntry:function(){this.$emit("update",{ref:"newEntry",val:!1}),this.$emit("update",{ref:"entryUID",val:""}),this.$emit("update",{ref:"existingEntry",val:null}),this.$emit("update",{ref:"home",val:!0})},go:function(t){var e=this;this.step3first||3!==t||(this.step3First=!0,this.$store.dispatch("gsheets/getPracticeStrategies")),this["step"+this.step]=!1,setTimeout(function(){e.step=t,e["step"+t]=!0},500)},uuidv4:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})}}},nt=st,it=(s("FGKz"),Object(m["a"])(nt,g,h,!1,null,"a2f578ec",null)),at=it.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"profile"},[s("br"),s("br"),s("div",{staticClass:"row"},[t._m(0),s("div",{staticClass:"col-md-8 offset-md-2 col-sm-7 offset-sm-3"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t.user.name?s("p",[t._v(t._s(t.user.name))]):t._e()]),s("div",{staticClass:"card-body"},[s("form",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"formInstrument"}},[t._v("Instrument")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"formInstrument",placeholder:"Specify Instrument"},domProps:{value:t.user.instrument},on:{input:function(e){t.instrument=e.target.value}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"formAgeRange"}},[t._v("Age Range")]),s("select",{staticClass:"form-control",attrs:{id:"formAgeRange"},domProps:{value:t.user.ageRange},on:{input:function(e){t.ageRange=e.target.value}}},[s("option",{attrs:{value:""}},[t._v("Select Age Range")]),s("option",{attrs:{value:"U8"}},[t._v("Under 8")]),s("option",{attrs:{value:"8to11"}},[t._v("8-11")]),s("option",{attrs:{value:"12to17"}},[t._v("12-17")]),s("option",{attrs:{value:"18to24"}},[t._v("18-24")]),s("option",{attrs:{value:"25to37"}},[t._v("25-37")]),s("option",{attrs:{value:"38+"}},[t._v("38+")])])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"formSkillLevel"}},[t._v("Skill Level")]),s("select",{staticClass:"form-control",attrs:{id:"formSkillLevel"},domProps:{value:t.user.skillLevel},on:{input:function(e){t.skillLevel=e.target.value}}},[s("option",{attrs:{value:""}},[t._v("Select Skill Level")]),s("option",[t._v("Beginner")]),s("option",[t._v("Competent")]),s("option",[t._v("Proficient")]),s("option",[t._v("Expert")])])]),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.updatedSuccess,expression:"updatedSuccess"}],staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("\n                                Update Successful\n                            ")])]),s("button",{staticClass:"btn btn-primary",on:{click:function(e){t.update()}}},[t._v("Update")])],1)])])])]),s("br"),s("br")])},ot=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-8 offset-md-2 col-sm-7 offset-sm-3 form-box"},[s("p",[t._v("Profile")])])}],ct=s("yT7P"),ut={name:"Profile",props:{},components:{},beforeMount:function(){},created:function(){},data:function(){return{instrument:"",ageRange:"",skillLevel:""}},computed:Object(i["b"])({user:function(t){return t.user.user},updatedSuccess:function(t){return t.user.updatedSuccess}}),methods:{update:function(){var t=Object(ct["a"])({},this.user);t.instrument=this.instrument.trim()?this.instrument:t.instrument,t.ageRange=this.ageRange.trim()?this.ageRange:t.ageRange,t.skillLevel=this.skillLevel.trim()?this.skillLevel:t.skillLevel,this.$store.dispatch("user/setUserProfile",t)}}},lt=ut,dt=(s("sdO4"),Object(m["a"])(lt,rt,ot,!1,null,"7bb68918",null)),pt=dt.exports,mt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ft=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"admin"},[s("br"),s("br"),s("div",{staticClass:"row"},[s("p",[t._v("Admin")])]),s("br"),s("br")])}],vt={name:"Admin",props:{},components:{},beforeMount:function(){},created:function(){},data:function(){return{}},methods:{}},gt=vt,ht=(s("C785"),Object(m["a"])(gt,mt,ft,!1,null,"7ba6b197",null)),yt=ht.exports,bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[s("a",{staticClass:"navbar-brand",attrs:{href:"#"},on:{click:function(e){t.updateNav(!1,!1,!0)}}},[t._v("My Music Mastery")]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item",class:{active:t.home}},[s("a",{staticClass:"nav-link",class:{disabled:t.login},attrs:{href:"#"},on:{click:function(e){t.updateNav(!1,!1,!0,!1)}}},[t._v("Home")])]),s("li",{staticClass:"nav-item",class:{active:t.newEntry}},[s("a",{staticClass:"nav-link",class:{disabled:t.login},attrs:{href:"#"},on:{click:function(e){t.updateNav(!0,!1,!1,!1)}}},[t._v(t._s(t.entryUID?"Existing":"New")+" Entry")])]),s("li",{staticClass:"nav-item",class:{active:t.profile}},[s("a",{staticClass:"nav-link",class:{disabled:t.login},attrs:{href:"#"},on:{click:function(e){t.updateNav(!1,!0,!1,!1)}}},[t._v("Profile")])]),s("li",{staticClass:"nav-item",class:{active:t.admin}},[s("a",{staticClass:"nav-link",class:{disabled:t.login},attrs:{href:"#"},on:{click:function(e){t.updateNav(!1,!1,!1,!0)}}},[t._v("Admin")])])])])])},_t=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],xt={name:"Header",props:{},beforeMount:function(){},computed:Object(i["b"])({login:function(t){return t.container.login},newEntry:function(t){return t.container.newEntry},profile:function(t){return t.container.profile},home:function(t){return t.container.home},admin:function(t){return t.container.admin},entryUID:function(t){return t.container.entryUID}}),methods:{updateNav:function(t,e,s,n){this.$store.commit("container/setNewEntry",t),this.$store.commit("container/setProfile",e),this.$store.commit("container/setHome",s),this.$store.commit("container/setAdmin",n)}}},Ct=xt,St=(s("ZUYg"),Object(m["a"])(Ct,bt,_t,!1,null,"1ede5498",null)),Pt=St.exports,wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("br"),s("ul",{staticClass:"nav nav-tabs"},[s("li",{staticClass:"nav-item",on:{click:function(e){t.selection="entries"}}},[s("a",{staticClass:"nav-link",class:{active:"entries"===t.selection},attrs:{href:"#"}},[t._v("Entries")])]),s("li",{staticClass:"nav-item",on:{click:function(e){t.selection="customPieces"}}},[s("a",{staticClass:"nav-link",class:{active:"customPieces"===t.selection},attrs:{href:"#"}},[t._v("Custom Pieces")])]),s("li",{staticClass:"nav-item",on:{click:function(e){t.selection="customStrategies"}}},[s("a",{staticClass:"nav-link",class:{active:"customStrategies"===t.selection},attrs:{href:"#"}},[t._v("Custom Strategies")])])]),s("br"),"entries"===t.selection?s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("\n                Entries\n            ")]),s("div",{staticClass:"card-body"},t._l(t.entries,function(e,n){return s("div",{key:n},[s("a",{attrs:{href:""},on:{click:function(e){t.goToEntry(n,e)}}},[t._v(t._s(e.entryName))])])}))]):t._e(),"customPieces"===t.selection?s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("\n                Add/Edit Custom Pieces\n            ")]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.piece,expression:"piece"}],staticClass:"form-control",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.piece=e.target.multiple?s:s[0]},t.pieceSelect]}},[s("option",{attrs:{value:""}},[t._v("\n                                Add New Custom Piece\n                            ")]),t._l(t.customPieces,function(e,n){return s("option",{key:n,attrs:{ind:n},domProps:{value:e.name}},[t._v("\n                                "+t._s(e.name)+"\n                            ")])})],2)])]),s("br"),s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"input-group mb-3"},[t._m(0),s("input",{staticClass:"form-control",attrs:{id:"pieceName",type:"text"},domProps:{value:t.customPieces[t.pieceIndex]?t.customPieces[t.pieceIndex].name:""}})])]),s("div",{staticClass:"col"},[s("div",{staticClass:"input-group mb-3"},[t._m(1),s("input",{staticClass:"form-control",attrs:{id:"pieceSource",type:"text"},domProps:{value:t.customPieces[t.pieceIndex]?t.customPieces[t.pieceIndex].source:""}})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"input-group mb-3"},[t._m(2),s("input",{staticClass:"form-control",attrs:{id:"pieceAuthor",type:"text"},domProps:{value:t.customPieces[t.pieceIndex]?t.customPieces[t.pieceIndex].author:""}})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"form-check form-check-inline"},[s("input",{staticClass:"form-check-input",attrs:{id:"pieceMaster",type:"checkbox"},domProps:{checked:!!t.customPieces[t.pieceIndex]&&t.customPieces[t.pieceIndex].master,value:!!t.customPieces[t.pieceIndex]&&t.customPieces[t.pieceIndex].master}}),s("label",{staticClass:"form-check-label",attrs:{for:"pieceMaster"}},[t._v("Master List Submission")])])]),s("transition",{attrs:{name:"fade"}},[t.updated?s("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("\n                                "+t._s(""!==t.piece?"Updated!":"Added!")+"\n                            ")]):t._e()]),s("div",{staticClass:"col"},[s("button",{staticClass:"btn btn-success",on:{click:t.updatePiece}},[t._v(t._s(""!==t.piece?"Update ":"Add ")+" Piece")])])],1)])])]):t._e(),"customStrategies"===t.selection?s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("\n                Add/Edit Custom Strategies\n            ")]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.strategy,expression:"strategy"}],staticClass:"form-control",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.strategy=e.target.multiple?s:s[0]},t.strategySelect]}},[s("option",{attrs:{value:""}},[t._v("\n                                Add New Custom Strategy\n                            ")]),t._l(t.customStrategies,function(e,n){return s("option",{key:n,attrs:{ind:n},domProps:{value:e.label}},[t._v("\n                                "+t._s(e.label)+"\n                            ")])})],2)])]),s("br"),s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"input-group mb-3"},[t._m(3),s("input",{staticClass:"form-control",attrs:{id:"stratLabel",type:"text"},domProps:{value:t.customStrategies[t.strategyIndex]?t.customStrategies[t.strategyIndex].label:""}})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"input-group mb-3"},[t._m(4),s("textarea",{staticClass:"form-control",attrs:{id:"stratDescription"},domProps:{value:t.customStrategies[t.strategyIndex]?t.customStrategies[t.strategyIndex].description:""}})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"form-check form-check-inline"},[s("input",{staticClass:"form-check-input",attrs:{id:"stratMaster",type:"checkbox"},domProps:{checked:!!t.customStrategies[t.strategyIndex]&&t.customStrategies[t.strategyIndex].master,value:!!t.customStrategies[t.strategyIndex]&&t.customStrategies[t.strategyIndex].master}}),s("label",{staticClass:"form-check-label",attrs:{for:"stratMaster"}},[t._v("Master List Submission")])])]),s("transition",{attrs:{name:"fade"}},[t.updated?s("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("\n                                "+t._s(""!==t.strategy?"Updated!":"Added!")+"\n                            ")]):t._e()]),s("div",{staticClass:"col"},[s("button",{staticClass:"btn btn-success",on:{click:t.updateStrategy}},[t._v(t._s(""!==t.strategy?"Update ":"Add ")+"  Strategy")])])],1)])])]):t._e(),s("br"),s("br")])},Et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("Name")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("Source")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("Author")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("Name")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("Description")])])}],kt={name:"Header",props:{entries:Object,customPieces:Array,customStrategies:Array,updated:Boolean},data:function(){return{selection:"entries",strategyIndex:"",pieceIndex:"",piece:"",strategy:""}},computed:Object(i["b"])({userUID:function(t){return t.user.user.uid}}),beforeMount:function(){},methods:{updateStrategy:function(){var t=document.getElementById("stratLabel").value;if(t){var e=this.strategyIndex?this.customStrategies[this.strategyIndex].id:this.uuidv4(),s={id:e,label:t,description:document.getElementById("stratDescription").value,master:document.getElementById("stratMaster").checked},n={strategies:[s],pieces:[]};this.$store.dispatch("entry/updateUserEntry",{userUID:this.userUID,userEntries:n}).then(function(){})}},updatePiece:function(){var t=document.getElementById("pieceName").value;if(t){var e=this.pieceIndex?this.customPieces[this.pieceIndex].id:this.uuidv4(),s={id:e,name:t,source:document.getElementById("pieceSource").value,author:document.getElementById("pieceAuthor").value,master:document.getElementById("pieceMaster").checked},n={strategies:[],pieces:[s]};this.$store.dispatch("entry/updateUserEntry",{userUID:this.userUID,userEntries:n}).then(function(){})}},strategySelect:function(t){var e=t.currentTarget.options[t.currentTarget.options.selectedIndex].getAttribute("ind");this.strategyIndex=e?parseInt(e):""},pieceSelect:function(t){var e=t.currentTarget.options[t.currentTarget.options.selectedIndex].getAttribute("ind");this.pieceIndex=e?parseInt(e):""},goToEntry:function(t,e){e.preventDefault(),this.$store.commit("container/setExistingEntry",this.entries[t]),this.$store.commit("container/setEntryUID",t),this.$store.commit("container/setHome",!1),this.$store.commit("container/setNewEntry",!0)},uuidv4:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})}}},It=kt,Ut=(s("jmTo"),Object(m["a"])(It,wt,Et,!1,null,"4b8aa5d8",null)),Mt=Ut.exports,$t={name:"mymusicmastery",components:{Login:v,Steps:at,Profile:pt,Header:Pt,Home:Mt,Admin:yt},created:function(){},data:function(){return{existingEntry:null,entryUID:""}},computed:Object(i["b"])({user:function(t){return t.user.user},login:function(t){return t.container.login},profile:function(t){return t.container.profile},newEntry:function(t){return t.container.newEntry},admin:function(t){return t.container.admin},home:function(t){return t.container.home},updated:function(t){return t.entry.updated}}),methods:{updateData:function(t){this[t.ref]=t.val}}},Tt=$t,Nt=(s("ksfM"),s("DfaC"),Object(m["a"])(Tt,a,r,!1,null,null,null)),Dt=Nt.exports,At=s("Snq/"),Ot=s.n(At),Lt={user:{phoneNumber:null,providerData:null,name:null,email:null,photoUrl:null,uid:null,instrument:null,ageRange:null,skillLevel:null,entries:{},customPieces:[],customStrategies:[]},updatedSuccess:!1},jt={},Rt={getUserInfo:function(t,e){var s=t.commit;X||(X=u["database"]()),X.ref("users/"+e.uid).on("value",function(t){var n=t.val(),i=Object(ct["a"])({},e);i.instrument=n.instrument||"",i.ageRange=n.ageRange||"",i.skillLevel=n.skillLevel||"",i.entries=n.entries,i.customPieces=Object.keys(n.customPieces).reduce(function(t,e){return t.push({id:n.customPieces[e].id,name:n.customPieces[e].name,author:n.customPieces[e].author||"",link:"",measures:[],notes:"",source:n.customPieces[e].source||"User Entry",strategies:[],tempo:"",custom:!0,master:n.customPieces[e].master||!1}),t},[]),i.customStrategies=Object.keys(n.customStrategies).map(function(t){return n.customStrategies[t].custom=!0,n.customStrategies[t]}),Object.keys(i.entries).map(function(t){Object.keys(i.entries[t]).map(function(e){"entryName"!==e&&(i.entries[t][e].measures||i.entries[t][e].strategies||(i.entries[t][e].strategies=[]))})}),s("setUser",i)},function(t){console.log("read failed")})},setUserProfile:function(t,e){var s=t.commit;X.ref("users/"+e.uid).update({instrument:e.instrument,ageRange:e.ageRange,skillLevel:e.skillLevel}).then(function(){s("setUser",e),s("updateSuccess",!0),setTimeout(function(){s("updateSuccess",!1)},1e3)})},setUserInfo:function(t,e){t.commit;X||(X=u["database"]()),X.ref("users/"+e.uid).update({username:e.name,email:e.email,profile_picture:e.photoUrl})}},Ht={setUser:function(t,e){t.user=e},updateSuccess:function(t,e){t.updatedSuccess=e}},zt={namespaced:!0,state:Lt,getters:jt,actions:Rt,mutations:Ht},Ft={login:!1,newEntry:!1,profile:!1,home:!0,admin:!1,entryUID:"",existingEntry:""},Vt={},Bt={},Kt={exitEntry:function(t){t.newEntry=!1,t.entryUID="",t.existingEntry="",t.home=!0},setLogin:function(t,e){t.login=e},setNewEntry:function(t,e){t.newEntry=e},setProfile:function(t,e){t.profile=e},setHome:function(t,e){t.home=e},setAdmin:function(t,e){t.admin=e},setEntryUID:function(t,e){t.entryUID=e},setExistingEntry:function(t,e){t.existingEntry=e}},Yt={namespaced:!0,state:Ft,getters:Vt,actions:Bt,mutations:Kt},Gt={selectedPieces:[],updated:!1},qt={},Jt={updateUserEntry:function(t,e){var s=t.commit;t.rootState;W||(W=u["database"]());var n=e.userEntries.strategies.reduce(function(t,e){return t[e.id]=e,t},{}),i=e.userEntries.pieces.reduce(function(t,e){return t[e.id]=e,t},{});W.ref("users/"+e.userUID+"/customPieces/").update(i),W.ref("users/"+e.userUID+"/customStrategies/").update(n),s("setUpdated",!0),setTimeout(function(){s("setUpdated",!1)},1e3)},updateEntry:function(t,e){var s=t.commit;W||(W=u["database"]()),W.ref("users/"+e.userUID+"/entries/"+e.entryUID).set(e.selectedPieces).then(function(){s("container/exitEntry",null,{root:!0})},function(t){console.log(t),alert("err saving, please contact support.")})},addEntry:function(t,e){var s=t.commit;W||(W=u["database"]());var n=W.ref("users/"+e.userUID+"/entries").push();n.set(e.selectedPieces).then(function(){s("container/exitEntry",null,{root:!0})},function(t){console.log(t),alert("err saving, please contact support.")})}},Xt={setSelectedPieces:function(t,e){t.selectedPieces=e},addToSelectedPieces:function(t,e){t.selectedPieces.push(e)},setEntryName:function(t,e){t.selectedPieces.entryName=e},addToSelectedPieceStrat:function(t,e){t.selectedPieces[e.index].strategies.push(e.strat)},addToSelectedMeasureStrat:function(t,e){t.selectedPieces[e.index].measures[e.indexM].strategies.push(e.strat)},updatePieceTempo:function(t,e){t.selectedPieces[e.ind].tempo=e.tempo},addToMeasure:function(t,e){e.measure.strategies=[],e.measure.id=t.selectedPieces[e.index].measures.length,t.selectedPieces[e.index].measures.push(e.measure)},updateSelectedPieces:function(t,e){t.selectedPieces=e},updateSelectedPieceStrat:function(t,e){t.selectedPieces[e.index].strategies=e.strategies},updateSelectedMeasureStrat:function(t,e){t.selectedPieces[e.index].measures[e.indexM].strategies=e.strategies},setName:function(t,e){t.selectedPieces.entryName=e},setNotes:function(t,e){t.selectedPieces[parseInt(e.index)].notes=e.notes},setLink:function(t,e){t.selectedPieces[parseInt(e.index)].link=e.link},setUpdated:function(t,e){t.updated=e}},Wt={namespaced:!0,state:Gt,getters:qt,actions:Jt,mutations:Xt},Zt=(s("Vd3H"),{musicPieces:[],practiceStrategies:[]}),Qt={},te={getMusicPieces:function(t){var e=t.commit;if(!Zt.musicPieces.length){var s,n,i={},a={map:{},rows:[]},r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=JSON.parse(r.responseText);n=t.valueRanges[1].values,n.shift(),i=n.reduce(function(t,e){return t[e[1].toString()]=e[0],t},i),s=t.valueRanges[0].values,s.shift(),a=s.sort(function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:t[2]-e[2]}).reduce(function(t,e){return t.map[e[1]]={sourceID:e[2]},t.rows.push({name:e[0],source:i[e[2]],tempo:"",measures:[],strategies:[],id:e[1],link:"",notes:""}),t},a),e("setMusicPieces",a)}},r.open("GET","https://sheets.googleapis.com/v4/spreadsheets/1uVMJcnjaxyz8_w6xrR5AFiQ8zMktKuOPEsLL3q7YofM/values:batchGet?ranges=Piece!A:C&ranges=Source!A:B&key=AIzaSyA251gYOA-3nYb0uOHRvdeF5f-zX2PhmpA",!0),r.send()}},getPracticeStrategies:function(t){var e=t.commit;if(!Zt.practiceStrategies.length){var s,n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=JSON.parse(n.responseText);s=t.valueRanges[0].values,s.shift(),s=s.sort(function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:0}).reduce(function(t,e){return t.push({label:e[0],id:e[1],description:e[2]||""}),t},[]),e("setPracticeStrategies",s)}},n.open("GET","https://sheets.googleapis.com/v4/spreadsheets/1SOvyvvAGUuniEf2EXT0jSk4v0cDdq_mxIFRmH1Tvilk/values:batchGet?ranges=PS!A:C&key=AIzaSyA251gYOA-3nYb0uOHRvdeF5f-zX2PhmpA",!0),n.send()}}},ee={setMusicPieces:function(t,e){t.musicPieces=e},setPracticeStrategies:function(t,e){t.practiceStrategies=e},addToPracticeStrategies:function(t,e){t.practiceStrategies.push(e)}},se={namespaced:!0,state:Zt,getters:Qt,actions:te,mutations:ee};n["a"].use(i["a"]);var ne=!0,ie=new i["a"].Store({modules:{user:zt,container:Yt,entry:Wt,gsheets:se},strict:ne}),ae={apiKey:"AIzaSyAnOLXNO4MiB1H9yu8AVkHTnPdkhjY7Epc",authDomain:"mymusicmaster-57ff1.firebaseapp.com",databaseURL:"https://mymusicmaster-57ff1.firebaseio.com",projectId:"mymusicmaster-57ff1",storageBucket:"mymusicmaster-57ff1.appspot.com",messagingSenderId:"404183510072"};u["initializeApp"](ae),n["a"].component("v-select",Ot.a),n["a"].config.productionTip=!1,n["a"].use(i["a"]),new n["a"]({store:ie,render:function(t){return t(Dt)}}).$mount("#mymusicmastery")},ZUYg:function(t,e,s){"use strict";var n=s("wpxY"),i=s.n(n);i.a},f1V5:function(t,e,s){},foop:function(t,e,s){"use strict";var n=s("Jubf"),i=s.n(n);i.a},hyVt:function(t,e,s){},jmTo:function(t,e,s){"use strict";var n=s("+umE"),i=s.n(n);i.a},kDUV:function(t,e,s){},r577:function(t,e,s){"use strict";var n=s("kDUV"),i=s.n(n);i.a},sdO4:function(t,e,s){"use strict";var n=s("f1V5"),i=s.n(n);i.a},utu2:function(t,e,s){},wpxY:function(t,e,s){}});
//# sourceMappingURL=app.a4c0d43b.js.map