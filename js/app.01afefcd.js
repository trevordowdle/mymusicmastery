(function(t){function e(e){for(var a,r,c=e[0],o=e[1],u=e[2],d=0,p=[];d<c.length;d++)r=c[d],i[r]&&p.push(i[r][0]),i[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);l&&l(e);while(p.length)p.shift()();return n.push.apply(n,u||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,c=1;c<s.length;c++){var o=s[c];0!==i[o]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},i={1:0},n=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;n.push([12,0]),s()})({12:function(t,e,s){t.exports=s("Vtdi")},"30ld":function(t,e,s){"use strict";var a=s("lMCu"),i=s.n(a);i.a},AvL6:function(t,e,s){},C785:function(t,e,s){"use strict";var a=s("O4OS"),i=s.n(a);i.a},DfaC:function(t,e,s){"use strict";var a=s("hyVt"),i=s.n(a);i.a},FGKz:function(t,e,s){"use strict";var a=s("utu2"),i=s.n(a);i.a},GCWg:function(t,e,s){"use strict";var a=s("vY1/"),i=s.n(a);i.a},Jubf:function(t,e,s){},O4OS:function(t,e,s){},OvDs:function(t,e,s){"use strict";var a=s("xMxM"),i=s.n(a);i.a},Vtdi:function(t,e,s){"use strict";s.r(e);s("VRzm");var a=s("Kw5r"),i=s("L2JU"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"mymusicmastery"}},[s("Header",{attrs:{login:t.login,newEntry:t.newEntry,profile:t.profile,home:t.home,admin:t.admin},on:{update:t.updateData}}),s("div",{staticClass:"container"},[s("Login",{directives:[{name:"show",rawName:"v-show",value:t.login,expression:"login"}],on:{update:t.updateData}}),t.login?t._e():s("div",[t.newEntry?s("Steps",{attrs:{entryUID:t.entryUID,database:t.database,userUID:t.user.uid,existingEntry:t.existingEntry},on:{update:t.updateData}}):t._e(),t.profile?s("Profile",{attrs:{user:t.user}}):t._e(),t.home?s("Home",{attrs:{sheets:t.user.sheets,entries:t.user.entries,customPieces:t.user.customPieces,customStrategies:t.user.customStrategies,updated:t.updated}}):t._e(),t.admin?s("Admin"):t._e(),t.sheet?s("Sheet"):t._e()],1)],1)],1)},r=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("transition",{attrs:{name:"fade"}},[s("fieldset",[s("p",[t._v("Login")]),s("div",{attrs:{id:"firebaseui-auth-container"}})])])],1)},o=[],u=s("iqUP"),l=s("WC58"),d={name:"Login",data:function(){return{uiConfig:{signInSuccessUrl:"http://www.mymusicmastery.com/",signInOptions:[u["auth"].GoogleAuthProvider.PROVIDER_ID,u["auth"].FacebookAuthProvider.PROVIDER_ID],tosUrl:""}}},beforeMount:function(){var t=this,e={},s=Object(u["database"])();Object(u["auth"])().onAuthStateChanged(function(a){if(a)e.phoneNumber=a.phoneNumber,e.providerData=a.providerData,e.name=a.displayName,e.email=a.email,e.photoUrl=a.photoURL,e.uid=a.uid,t.$store.dispatch("user/setUserInfo",e),t.$store.dispatch("user/getUserInfo",e),t.$store.commit("container/setLogin",!1),t.$emit("update",{ref:"database",val:s});else{var i=new l["auth"].AuthUI(Object(u["auth"])());i.start("#firebaseui-auth-container",t.uiConfig),t.$store.commit("container/setLogin",!0)}},function(t){console.log(t)})}},p=d,m=(s("GCWg"),s("KHd+")),v=Object(m["a"])(p,c,o,!1,null,"40f51ee4",null),f=v.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"steps"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 offset-md-2 col-sm-7 offset-sm-3 form-box"},[s("Step1",{directives:[{name:"show",rawName:"v-show",value:t.step1,expression:"step1"}],attrs:{pieces:t.pieces}}),t.step2?s("Step2"):t._e(),t.step3?s("Step3"):t._e(),t.step4?s("Step4"):t._e()],1)]),s("br"),s("br")])},g=[],y=(s("NO8f"),s("a1Th"),s("pIFo"),s("rGqo"),s("yt8O"),s("RW0V"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",{attrs:{name:"fade"}},[t.step1_a?s("fieldset",[s("div",{staticClass:"form-top"},[s("div",{staticClass:"form-top-left"},[s("p",[t._v("Select Piece(s):")])]),s("div",{staticClass:"form-top-right"})]),s("div",{staticClass:"form-bottom"},[s("multiselect",{attrs:{value:t.selectedPieces,placeholder:"Select Piece",label:"name","track-by":"id",multiple:!0,taggable:!0,options:t.customPieces.concat(t.rows)},on:{tag:t.addTag,input:t.checkInput},scopedSlots:t._u([{key:"option",fn:function(e){return[s("div",{staticClass:"option__desc"},[s("div",{staticStyle:{display:"inline-block"}},["User Entry"===e.option.source||e.option.custom?s("span",{staticClass:"option__small"},[s("svg",{staticClass:"svg-inline--fa fa-star fa-w-18",staticStyle:{height:"12px","margin-right":"3px",color:"#dada43"},attrs:{"aria-hidden":"true","data-prefix":"fas","data-icon":"star",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[s("path",{attrs:{fill:"currentColor",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}})])]):t._e()]),s("div",{staticStyle:{display:"inline-block"}},[s("span",{staticClass:"option__title"},[t._v("\n                                    "+t._s(e.option.name)+"\n                                ")])])])]}}])}),s("br"),t.selectedPieces.length?s("p",[t._v("Selected Pieces")]):t._e(),s("ol",t._l(t.selectedPieces,function(e,a){return s("li",{key:a},[t._v("\n                        "+t._s(e.name)+" "),s("span",{staticClass:"text-muted small"},[t._v(" - "+t._s(e.source))])])})),s("br"),s("br"),s("br"),s("button",{staticClass:"go btn btn-next",class:{disabled:!t.selectedPieces.length},attrs:{type:"button",disabled:!t.selectedPieces.length},on:{click:function(e){t.go("1_b")}}},[t._v("Next")])],1)]):t._e()]),s("transition",{attrs:{name:"fade"}},[t.step1_b?s("fieldset",[s("div",{staticClass:"form-top"},[s("div",{staticClass:"form-top-left"},[s("p",[t._v("Set Tempo(s):")])]),s("div",{staticClass:"form-top-right"})]),s("div",{staticClass:"form-bottom"},[t._l(t.selectedPieces,function(e,a){return s("div",{key:a,staticClass:"form-group"},[s("div",{staticClass:"input-group"},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[t._v("\n                                "+t._s(e.name+" ")+" "),s("span",{staticClass:"text-muted small"},[t._v(" - "+t._s(e.source))])])]),s("input",{staticClass:"form-control",attrs:{type:"text","data-index":a,placeholder:"Enter Tempo"},domProps:{value:e.tempo},on:{change:t.updateTempo}})]),s("span",[t._v(t._s(e.temp))])])}),s("br"),s("br"),s("button",{staticClass:"btn go btn-previous",attrs:{type:"button"},on:{click:function(e){t.go("1_a")}}},[t._v("Previous")]),s("button",{staticClass:"btn go btn-next",attrs:{type:"button"},on:{click:function(e){t.go(2)}}},[t._v("Next")])],2)]):t._e()])],1)}),b=[],_=(s("f3/d"),s("jl8+")),C=s.n(_),x={name:"Step1",components:{Multiselect:C.a},beforeMount:function(){},props:{},data:function(){return{step1_a:!0,step1_b:!1}},computed:Object(i["b"])({selectedPieces:function(t){return t.entry.selectedPieces},rows:function(t){return t.gsheets.musicPieces.rows?t.gsheets.musicPieces.rows.slice(0):[]},customPieces:function(t){return t.user.user.customPieces?t.user.user.customPieces.slice(0):[]}}),methods:{customLabel:function(t){var e=t.name,s=t.id;return"".concat(e," â€“ ").concat(s)},handleNewEntry:function(t){return this.$parent.handleNewEntry(t)},updateTempo:function(t){var e=parseInt(t.target.getAttribute("data-index"));this.$store.commit("entry/updatePieceTempo",{ind:e,tempo:t.target.value})},addTag:function(t){var e={name:t,source:"User Entry",tempo:"",measures:[],strategies:[],id:this.$parent.uuidv4()};this.rows.push(e),this.$store.commit("entry/addToSelectedPieces",e)},checkInput:function(t){if(!t)return!1;this.$store.commit("entry/updateSelectedPieces",t)},go:function(t){var e=this;"1_b"===t?(this["step1_a"]=!1,setTimeout(function(){e["step1_b"]=!0},500)):"1_a"===t?(this["step1_b"]=!1,setTimeout(function(){e["step1_a"]=!0},500)):this.$parent.go(t)}}},S=x,w=Object(m["a"])(S,y,b,!1,null,null,null),P=w.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",{attrs:{name:"fade"}},[s("fieldset",[s("div",{staticClass:"form-top"},[s("div",{staticClass:"form-top-left"},[s("p",[t._v("Assign Measures:")])]),s("div",{staticClass:"form-top-right"})]),s("div",{staticClass:"form-bottom"},[t._l(t.selectedPieces,function(e,a){return s("div",{key:a,staticClass:"form-group"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("\n                            "+t._s(e.name+" - "+e.source)+"\n                        ")]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"input-group mb-3"},[s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Measure"}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Tempo"}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.addMeasure(a,e)}}},[t._v("Add Measure")])])]),s("h5",{staticClass:"card-title"},[t._v("Measures")]),e.measures&&e.measures.length?t._e():s("p",[t._v("No measures added")]),t._l(e.measures,function(e,a){return s("p",{key:a,staticClass:"card-text"},[t._v(t._s(e.measure)+" - Tempo "+t._s(e.tempo))])})],2)])])}),s("button",{staticClass:"btn go btn-previous",attrs:{type:"button"},on:{click:function(e){t.go(1)}}},[t._v("Previous")]),s("button",{staticClass:"btn go btn-next",attrs:{type:"button"},on:{click:function(e){t.go(3)}}},[t._v("Next")])],2)])])],1)},E=[],I={name:"Step2",beforeMount:function(){},props:{},data:function(){return{}},computed:Object(i["b"])({selectedPieces:function(t){return t.entry.selectedPieces}}),methods:{go:function(t){this.$parent.go(t)},addMeasure:function(t,e){var s=e.target.parentElement.previousElementSibling,a=s.previousElementSibling;a.value.trim()&&s.value.trim()&&(this.$store.commit("entry/addToMeasure",{index:t,measure:{measure:a.value,tempo:s.value}}),a.value="",s.value="")}}},T=I,U=Object(m["a"])(T,k,E,!1,null,null,null),M=U.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.showModal?s("Modal",{on:{close:t.closeModal}},[s("h3",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.customStrategy.title))]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.customStrategy.description,expression:"customStrategy.description"}],staticClass:"form-control",attrs:{slot:"body",placeholder:"add description"},domProps:{value:t.customStrategy.description},on:{input:function(e){e.target.composing||t.$set(t.customStrategy,"description",e.target.value)}},slot:"body"})]):t._e(),s("transition",{attrs:{name:"fade"}},[s("fieldset",[s("div",{staticClass:"form-top"},[s("div",{staticClass:"form-top-left"},[s("p",[t._v("Assign Practice Strategies:")])]),s("div",{staticClass:"form-top-right"})]),s("div",{staticClass:"form-bottom"},[t._l(t.selectedPieces,function(e,a){return s("div",{key:a,staticClass:"form-group"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("\n                            "+t._s(e.name+" - "+e.source)+"\n                        ")]),s("div",{staticClass:"card-body"},[e.measures&&e.measures.length?t._e():s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("multiselect",{attrs:{placeholder:"Select strategy",index:a,"track-by":"id",label:"label",value:e.strategies,multiple:!0,taggable:!0,options:t.customStrategies.concat(t.strategies)},on:{input:t.pieceStratUpdate,tag:t.addTagPiece},scopedSlots:t._u([{key:"option",fn:function(e){return[s("div",{staticClass:"option__desc"},[s("div",{staticStyle:{display:"inline-block"}},[e.option.custom?s("span",{staticClass:"option__small"},[s("svg",{staticClass:"svg-inline--fa fa-star fa-w-18",staticStyle:{height:"12px","margin-right":"3px",color:"#dada43"},attrs:{"aria-hidden":"true","data-prefix":"fas","data-icon":"star",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[s("path",{attrs:{fill:"currentColor",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}})])]):t._e()]),s("div",{staticStyle:{display:"inline-block"}},[s("span",{staticClass:"option__title"},[t._v("\n                                                                "+t._s(e.option.label)+"\n                                                            ")])])])]}}])}),s("br"),t.selectedStrategy[("User Entry"===e.source?"U":"")+e.id]?s("p",[t._v(t._s(t.selectedStrategy[("User Entry"===e.source?"U":"")+e.id].description))]):t._e(),s("br"),e.strategies&&e.strategies.length?t._e():s("p",[t._v("No strategies added")]),e.strategies&&e.strategies.length?s("p",[t._v("Selected Strategies")]):t._e(),s("ol",t._l(e.strategies,function(e,a){return s("li",{key:a},[t._v("\n                                                "+t._s(e.label)+"\n                                                "),e.description?s("ul",[s("li",[t._v(t._s(e.description))])]):t._e()])})),s("br"),s("br")],1)])]),s("h5",{staticClass:"card-title"},[t._v("Measures")]),e.measures&&e.measures.length?t._e():s("p",[t._v("No measures added")]),t._l(e.measures,function(i,n){return s("div",{key:n},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("p",{staticClass:"card-text"},[t._v(t._s(i.measure)+" - Tempo "+t._s(i.tempo))]),s("multiselect",{attrs:{index:a,indexM:n,"track-by":"id",label:"label",value:i.strategies,multiple:!0,taggable:!0,options:t.customStrategies.concat(t.strategies)},on:{input:t.measureStratUpdate,tag:t.addTagPiece},scopedSlots:t._u([{key:"option",fn:function(e){return[s("div",{staticClass:"option__desc"},[s("div",{staticStyle:{display:"inline-block"}},[e.option.custom?s("span",{staticClass:"option__small"},[s("svg",{staticClass:"svg-inline--fa fa-star fa-w-18",staticStyle:{height:"12px","margin-right":"3px"},attrs:{"aria-hidden":"true","data-prefix":"fas","data-icon":"star",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[s("path",{attrs:{fill:"currentColor",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}})])]):t._e()]),s("div",{staticStyle:{display:"inline-block"}},[s("span",{staticClass:"option__title"},[t._v("\n                                                                "+t._s(e.option.label)+"\n                                                            ")])])])]}}])}),s("br"),t.selectedStrategy[("User Entry"===e.source?"U":"")+e.id+i.id]?s("p",[t._v(t._s(t.selectedStrategy[("User Entry"===e.source?"U":"")+e.id+i.id].description))]):t._e(),s("br"),i&&i.strategies.length?t._e():s("p",[t._v("No strategies added for measure")]),i&&i.strategies.length?s("p",[t._v("Selected Strategies")]):t._e(),s("ol",t._l(i.strategies,function(e,a){return s("li",{key:a},[t._v("\n                                                "+t._s(e.label)+"\n                                                "),e.description?s("ul",[s("li",[t._v(t._s(e.description))])]):t._e()])})),s("br"),s("br")],1)])])})],2)])])}),s("button",{staticClass:"btn go btn-previous",attrs:{type:"button"},on:{click:function(e){t.go(2)}}},[t._v("Previous")]),s("button",{staticClass:"btn go btn-next",attrs:{type:"button"},on:{click:function(e){t.go(4)}}},[t._v("Next")])],2)])])],1)},$=[],N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"my-modal-mask"},[s("div",{staticClass:"my-modal-wrapper"},[s("div",{staticClass:"my-modal-container"},[s("div",{staticClass:"my-modal-header"},[t._t("header",[t._v("\n                default header\n              ")])],2),s("div",{staticClass:"my-modal-body"},[t._t("body",[t._v("\n                default body\n              ")])],2),s("div",{staticClass:"my-modal-footer"},[s("button",{staticClass:"my-modal-default-button btn btn-success",on:{click:function(e){t.$emit("close")}}},[t._v("\n                  OK\n                ")]),s("br")])])])])])],1)},O=[],A={name:"Modal",beforeMount:function(){},props:{},data:function(){return{}},methods:{}},L=A,j=(s("foop"),Object(m["a"])(L,N,O,!1,null,"47810f62",null)),R=j.exports,H={name:"Step3",components:{Modal:R,Multiselect:C.a},beforeMount:function(){},props:{},data:function(){return{showModal:!1,selectedStrategy:{},customStrategy:{title:"",id:"",description:"",pieceIndex:null,measureIndex:null}}},computed:Object(i["b"])({selectedPieces:function(t){return t.entry.selectedPieces},strategies:function(t){return t.gsheets.practiceStrategies},customStrategies:function(t){return t.user.user.customStrategies?t.user.user.customStrategies.slice(0):[]}}),methods:{pieceStratUpdate:function(t){var e=event.currentTarget.parentElement.parentElement.parentElement.parentElement.getAttribute("index");this.$store.commit("entry/updateSelectedPieceStrat",{index:parseInt(e),strategies:t})},measureStratUpdate:function(t){var e=event.currentTarget.parentElement.parentElement.parentElement.parentElement.getAttribute("index"),s=event.currentTarget.parentElement.parentElement.parentElement.parentElement.getAttribute("indexM");this.$store.commit("entry/updateSelectedMeasureStrat",{index:parseInt(e),indexM:parseInt(s),strategies:t})},addTagPiece:function(t){this.customStrategy.id=this.$parent.uuidv4(),this.customStrategy.title=t,this.customStrategy.pieceIndex=event.currentTarget.parentElement.parentElement.getAttribute("index"),this.customStrategy.measureIndex=event.currentTarget.parentElement.parentElement.getAttribute("indexM")||null,this.showModal=!0},go:function(t){this.$parent.go(t)},addStrategy:function(t,e,s){console.log(this.selectedStrategy[t]),this.selectedStrategy[t]&&(this.selectedStrategy[t].id?(void 0===s?this.$store.commit("entry/addToSelectedPieceStrat",{index:e,strat:this.selectedStrategy[t]}):this.$store.commit("entry/addToSelectedMeasureStrat",{index:e,indexM:s,strat:this.selectedStrategy[t]}),delete this.selectedStrategy[t]):(this.customStrategy.id=this.$parent.uuidv4(),this.customStrategy.refId=t,this.customStrategy.title=this.selectedStrategy[t].label,this.customStrategy.pieceIndex=e,this.customStrategy.measureIndex=s,this.showModal=!0))},handleNewEntry:function(t){return Object.keys(t).reduce(function(e,s){return e+=t[s],e},"")},closeModal:function(){if(this.customStrategy.description){var t={label:this.customStrategy.title,id:this.customStrategy.id,description:this.customStrategy.description,custom:!0};this.customStrategy.measureIndex?this.$store.commit("entry/addToSelectedMeasureStrat",{index:this.customStrategy.pieceIndex,indexM:this.customStrategy.measureIndex,strat:t}):this.$store.commit("entry/addToSelectedPieceStrat",{index:this.customStrategy.pieceIndex,strat:t}),this.$store.commit("gsheets/addToPracticeStrategies",t),this.customStrategy.description=""}this.showModal=!1}}},F=H,z=Object(m["a"])(F,D,$,!1,null,null,null),V=z.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.showModal?s("Modal",{on:{close:t.closeModal}},[s("h3",{attrs:{slot:"header"},slot:"header"},[t._v("Entry Name")]),s("input",{staticClass:"form-control",attrs:{slot:"body",type:"text",placeholder:"specify entry name"},domProps:{value:t.selectedPieces.entryName},on:{input:t.updateEntryName},slot:"body"})]):t._e(),s("transition",{attrs:{name:"fade"}},[s("fieldset",[s("div",{staticClass:"form-top"},[s("div",{staticClass:"form-top-left"},[s("p",[t._v("Add Notes:")])]),s("div",{staticClass:"form-top-right"})]),s("div",{staticClass:"form-bottom"},[t._l(t.selectedPieces,function(e,a){return s("div",{key:a,staticClass:"form-group"},[s("h5",[t._v(t._s(e.name)+" "),s("span",{staticClass:"text-muted small"},[t._v(" - "+t._s(e.source))])]),s("textarea",{staticClass:"form-control",attrs:{index:a,placeholder:"Notes"},domProps:{value:e.notes},on:{change:t.updateNotes}}),s("br"),s("input",{staticClass:"form-control",attrs:{type:"text",index:a,placeholder:"Video Link"},domProps:{value:e.link},on:{change:t.updateLink}}),s("br")])}),s("button",{staticClass:"btn go btn-previous",attrs:{type:"button"},on:{click:function(e){t.go(3)}}},[t._v("Previous")]),t.entryUID?t._e():s("button",{staticClass:"btn go btn-previous",attrs:{type:"button"},on:{click:function(e){t.saveEntry()}}},[t._v("Save Entry")]),t.entryUID?s("button",{staticClass:"btn go btn-previous",attrs:{type:"button"},on:{click:function(e){t.saveEntry(!0)}}},[t._v("Update Entry")]):t._e(),t.entryUID?s("button",{staticClass:"btn go btn-previous",attrs:{type:"button"},on:{click:function(e){t.pdf()}}},[t._v("Generate CheckList")]):t._e()],2)])])],1)},W=[];s("KKXr"),s("tUrg");function Y(t){var e=new jsPDF("p","pt");e.setFontSize(12),e.setTextColor(0),e.setFontStyle("bold"),q(e),e.setTextColor(0);var s=[{title:"Piece",dataKey:"name"},{title:"Measure",dataKey:"measures"}];return e.autoTable(s,t,{theme:"grid",startY:80,tableWidth:575,margin:10,styles:{lineColor:[0,0,0]},drawHeaderCell:function(t,e){return!1},drawHeaderRow:function(t,e){return!1},drawRow:function(t,s){t.index>0&&(e.addPage(),q(e),s.cursor.y=80),s.row.raw.measures&&s.row.raw.measures.length?t.height=200:s.row.strategies&&(t.height=20*s.row.raw.strategies.length),t.height<80&&(t.height=80),60+s.row.raw.source.length/50*20>t.height&&(t.height=60+20*Math.ceil(s.row.raw.source.length/50))},drawCell:function(t,s){if(0===s.column.index){if(t.width=184,s.row.raw.source){t.text.push(""),t.text.push("Source:");t.text=t.text.concat(K(40,s.row.raw.source)),t.text.push("")}s.row.raw.tempo&&t.text.push("Assigned tempo: "+s.row.raw.tempo)}if(1===s.column.index){if(s.row.raw.measures&&s.row.raw.measures.length){var a,i=0,n=0,r=!1;s.row.raw.measures.map(function(c,o){a=20*c.strategies.length,a<=40&&(a=60);var u=G(13,c.measure);e.rect(t.x,t.y+i,85,a),e.text("m. "+u,t.x+4,t.y+i+14),e.text("tempo "+c.tempo,t.x+4,t.y+i+29),e.setFontSize(9);var l=0;if(c.strategies.map(function(s,a){a-=l;var c=G(19,s.label);e.rect(t.x+85,t.y+i+20*a,306,20),e.text(c,t.x+87,t.y+i+20*a+14),e.line(369,t.y+i+20*a,369,t.y+i+20*a+20),e.line(393,t.y+i+20*a,393,t.y+i+20*a+20),e.line(417,t.y+i+20*a,417,t.y+i+20*a+20),e.line(441,t.y+i+20*a,441,t.y+i+20*a+20),e.line(465,t.y+i+20*a,465,t.y+i+20*a+20),e.line(489,t.y+i+20*a,489,t.y+i+20*a+20),e.line(513,t.y+i+20*a,513,t.y+i+20*a+20),e.line(537,t.y+i+20*a,537,t.y+i+20*a+20),i+20*a>=720?(l=a+1,e.addPage(),q(e),i=0,r=!0,n=a-l):n=a}),e.setFontSize(10),s.row.raw.measures.length===o+1&&s.row.raw.notes){r||(n=o);var d=K(80,s.row.raw.notes),p=0;i+20*(d.length+2)>630&&(i=0,n=0,e.addPage(),q(e)),i<40&&(i=40),s.row.raw.link&&(p=1,e.setTextColor(0,0,255),e.text(s.row.raw.link,t.x+4,t.y+20*n+38+12*(d.length+1)+i),e.setTextColor(0,0,0)),e.rect(t.x,t.y+20*n+20+i,391,20+20*(p+d.length)),e.text("Notes / Comments:",t.x+2,t.y+20*n+32+i),d.map(function(s,a){e.text(s,t.x+4,t.y+20*n+32+12*(a+1)+i)})}i+=a})}else if(e.setFontSize(9),s.row.raw.strategies||(s.row.raw.strategies=[]),s.row.raw.strategies.map(function(a,i){var n=G(19,a.label);if(e.rect(t.x+85,t.y+20*i,306,20),e.text(n,t.x+87,t.y+20*i+14),e.line(369,t.y+20*i,369,t.y+20*i+20),e.line(393,t.y+20*i,393,t.y+20*i+20),e.line(417,t.y+20*i,417,t.y+20*i+20),e.line(441,t.y+20*i,441,t.y+20*i+20),e.line(465,t.y+20*i,465,t.y+20*i+20),e.line(489,t.y+20*i,489,t.y+20*i+20),e.line(513,t.y+20*i,513,t.y+20*i+20),e.line(537,t.y+20*i,537,t.y+20*i+20),s.row.raw.strategies.length===i+1&&(e.setFontSize(10),s.row.raw.notes)){var r=K(80,s.row.raw.notes),c=0;s.row.raw.link&&(c=1,e.setTextColor(0,0,255),e.text(s.row.raw.link,t.x+4,t.y+20*i+41+12*(r.length+1)),e.setTextColor(0,0,0)),e.rect(t.x,t.y+20*i+20,391,20+20*(c+r.length)),e.text("Notes / Comments:",t.x+2,t.y+20*i+33),r.map(function(s,a){e.text(s,t.x+4,t.y+20*i+33+12*(a+1))})}}),!s.row.raw.strategies.length&&s.row.raw.notes){var c=K(80,s.row.raw.notes),o=0;s.row.raw.link&&(o=1,e.setTextColor(0,0,255),e.text(s.row.raw.link,t.x+4,t.y+20+41+12*(c.length+1)),e.setTextColor(0,0,0)),e.rect(t.x,t.y+20+20,391,20+20*(o+c.length)),e.text("Notes / Comments:",t.x+2,t.y+20+33),c.map(function(s,a){e.text(s,t.x+4,t.y+20+33+12*(a+1))})}return!1}}}),e}var G=function(t,e){return e.length>t&&(e=e.substring(0,t).trim()+".."),e},K=function(t,e){var s="",a=[];return e.split(" ").map(function(e){while(e.length>t)a.push(s+e.substring(0,t-s.length)),e=e.substring(t-s.length),s=" ";s.length+e.length<=t?s+=e+" ":(a.push(s),s=e+=" ")}),s&&a.push(s),a};function q(t){t.setFontSize(9),t.setFontType("bold"),t.rect(10,40,184,40),t.text("Piece",12,63),t.rect(194,40,85,40),t.text("Practice Passage",196,63),t.rect(279,40,90,40),t.text("Practice Strategy",281,63),t.rect(369,40,216,40),t.line(369,60,585,60),t.line(393,60,393,80),t.line(417,60,417,80),t.line(441,60,441,80),t.line(465,60,465,80),t.line(489,60,489,80),t.line(513,60,513,80),t.line(537,60,537,80),t.text("M",377,73),t.text("T",401,73),t.text("W",425,73),t.text("H",449,73),t.text("F",473,73),t.text("Sat",493,73),t.text("Sun",517,73),t.text("Mastery",545,73),t.setFontType("normal"),t.text("Mark time spent / check days practiced",387,53)}console.log(Y);var J,X,Q,Z={name:"Step4",components:{Modal:R},beforeMount:function(){},props:{},computed:Object(i["b"])({entryUID:function(t){return t.container.entryUID},userUID:function(t){return t.user.user.uid},selectedPieces:function(t){return t.entry.selectedPieces}}),data:function(){return{showModal:!1}},methods:{go:function(t){this.$parent.go(t)},saveEntry:function(){this.showModal=!0},updateLink:function(t){this.$store.commit("entry/setLink",{index:event.target.getAttribute("index"),link:t.target.value})},updateNotes:function(t){this.$store.commit("entry/setNotes",{index:event.target.getAttribute("index"),notes:t.target.value})},updateEntryName:function(t){this.$store.commit("entry/setName",t.target.value)},pdf:function(){var t=Y(this.selectedPieces),e=this.extractUniqueStrategies();this.writeStrategies(t,e),t.save("checkList.pdf")},writeStrategies:function(t,e){var s=0;t.addPage(),t.text("Strategy Descriptions:",20,20);var a=0,i=0;e.map(function(e,n){t.text(e.label+":",20,40+20*i+a),e.description=e.description.replace(/\n/g," "),e.description=e.description.replace(/\r/g,""),K(125,e.description).map(function(e){e.trim()||(e="Not Available"),a+=20,t.text(e+" ",20,40+20*i+a)}),a+20*i>=720&&(s=i+1,t.addPage(),a=0,i-=s),i+=1})},extractUniqueStrategies:function(){var t={},e=[];return this.selectedPieces.map(function(s){s.strategies||(s.strategies=[]),s.strategies.map(function(s){t[s.id]||(t[s.id]=!0,e.push({id:s.id,label:s.label,description:s.description}))}),s.measures||(s.measures=[]),s.measures.map(function(s){s.strategies.map(function(s){t[s.id]||(t[s.id]=!0,e.push({id:s.id,label:s.label,description:s.description}))})})}),e},closeModal:function(){if(!this.selectedPieces.entryName.trim())return this.selectedPieces.entryName=this.selectedPieces.entryName.trim(),!1;var t=this.selectedPieces.reduce(function(t,e){return("User Entry"===e.source||e.custom)&&t.pieces.push({name:e.name,id:e.id}),e.strategies&&e.strategies.map(function(e){e.custom&&t.strategies.push({label:e.label,description:e.description,id:e.id})}),e.measures&&e.measures.map(function(e){e.strategies.map(function(e){e.custom&&t.strategies.push({label:e.label,description:e.description,id:e.id})})}),t},{pieces:[],strategies:[]});this.entryUID?((t.pieces.length||t.strategies.length)&&this.$store.dispatch("entry/updateUserEntry",{userUID:this.userUID,userEntries:t}),this.$store.dispatch("entry/updateEntry",{userUID:this.userUID,entryUID:this.entryUID,selectedPieces:this.selectedPieces})):((t.pieces.length||t.strategies.length)&&this.$store.dispatch("entry/updateUserEntry",{userUID:this.userUID,userEntries:t}),this.$store.dispatch("entry/addEntry",{userUID:this.userUID,selectedPieces:this.selectedPieces}))}}},tt=Z,et=Object(m["a"])(tt,B,W,!1,null,null,null),st=et.exports,at={name:"Steps",components:{Step1:P,Step2:M,Step3:V,Step4:st},props:{},beforeMount:function(){var t=this;this.$store.dispatch("gsheets/getMusicPieces"),t.existingEntry&&(t.$store.commit("entry/setSelectedPieces",[]),Object.keys(t.existingEntry).map(function(e){"entryName"===e?t.$store.commit("entry/setEntryName",t.existingEntry[e]):t.$store.commit("entry/addToSelectedPieces",t.existingEntry[e])}),t.step1=!1,t.step4=!0,t.step=4)},computed:Object(i["b"])({existingEntry:function(t){return t.container.existingEntry},entryUID:function(t){return t.container.entryUID},userUID:function(t){return t.user.uid},selectedPieces:function(t){return t.entry.selectedPieces},pieces:function(t){return t.gsheets.musicPieces}}),created:function(){},data:function(){return{sourceMap:{},step1:!0,step2:!1,step3:!1,step3first:!1,step4:!1,login:!1,step:1}},methods:{handleNewEntry:function(t){return Object.keys(t).reduce(function(e,s){return e+=t[s],e},"")},exitEntry:function(){this.$emit("update",{ref:"newEntry",val:!1}),this.$emit("update",{ref:"entryUID",val:""}),this.$emit("update",{ref:"existingEntry",val:null}),this.$emit("update",{ref:"home",val:!0})},go:function(t){var e=this;this.step3first||3!==t||(this.step3First=!0,this.$store.dispatch("gsheets/getPracticeStrategies")),this["step"+this.step]=!1,setTimeout(function(){e.step=t,e["step"+t]=!0},500)},uuidv4:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})}}},it=at,nt=(s("FGKz"),Object(m["a"])(it,h,g,!1,null,"a2f578ec",null)),rt=nt.exports,ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"profile"},[s("br"),s("br"),s("div",{staticClass:"row"},[t._m(0),s("div",{staticClass:"col-md-8 offset-md-2 col-sm-7 offset-sm-3"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t.user.name?s("p",[t._v(t._s(t.user.name))]):t._e()]),s("div",{staticClass:"card-body"},[s("form",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"formInstrument"}},[t._v("Instrument")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"formInstrument",placeholder:"Specify Instrument"},domProps:{value:t.user.instrument},on:{input:function(e){t.instrument=e.target.value}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"formAgeRange"}},[t._v("Age Range")]),s("select",{staticClass:"form-control",attrs:{id:"formAgeRange"},domProps:{value:t.user.ageRange},on:{input:function(e){t.ageRange=e.target.value}}},[s("option",{attrs:{value:""}},[t._v("Select Age Range")]),s("option",{attrs:{value:"U8"}},[t._v("Under 8")]),s("option",{attrs:{value:"8to11"}},[t._v("8-11")]),s("option",{attrs:{value:"12to17"}},[t._v("12-17")]),s("option",{attrs:{value:"18to24"}},[t._v("18-24")]),s("option",{attrs:{value:"25to37"}},[t._v("25-37")]),s("option",{attrs:{value:"38+"}},[t._v("38+")])])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"formSkillLevel"}},[t._v("Skill Level")]),s("select",{staticClass:"form-control",attrs:{id:"formSkillLevel"},domProps:{value:t.user.skillLevel},on:{input:function(e){t.skillLevel=e.target.value}}},[s("option",{attrs:{value:""}},[t._v("Select Skill Level")]),s("option",[t._v("Beginner")]),s("option",[t._v("Competent")]),s("option",[t._v("Proficient")]),s("option",[t._v("Expert")])])]),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.updatedSuccess,expression:"updatedSuccess"}],staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("\n                                Update Successful\n                            ")])]),s("button",{staticClass:"btn btn-primary",on:{click:function(e){t.update()}}},[t._v("Update")])],1)])])])]),s("br"),s("br")])},ot=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-8 offset-md-2 col-sm-7 offset-sm-3 form-box"},[s("p",[t._v("Profile")])])}],ut=s("yT7P"),lt={name:"Profile",props:{},components:{},beforeMount:function(){},created:function(){},data:function(){return{instrument:"",ageRange:"",skillLevel:""}},computed:Object(i["b"])({user:function(t){return t.user.user},updatedSuccess:function(t){return t.user.updatedSuccess}}),methods:{update:function(){var t=Object(ut["a"])({},this.user);t.instrument=this.instrument.trim()?this.instrument:t.instrument,t.ageRange=this.ageRange.trim()?this.ageRange:t.ageRange,t.skillLevel=this.skillLevel.trim()?this.skillLevel:t.skillLevel,this.$store.dispatch("user/setUserProfile",t)}}},dt=lt,pt=(s("sdO4"),Object(m["a"])(dt,ct,ot,!1,null,"7bb68918",null)),mt=pt.exports,vt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ft=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"admin"},[s("br"),s("br"),s("div",{staticClass:"row"},[s("p",[t._v("Admin")])]),s("br"),s("br")])}],ht={name:"Admin",props:{},components:{},beforeMount:function(){},created:function(){},data:function(){return{}},methods:{}},gt=ht,yt=(s("C785"),Object(m["a"])(gt,vt,ft,!1,null,"7ba6b197",null)),bt=yt.exports,_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[s("a",{staticClass:"navbar-brand",attrs:{href:"#"},on:{click:function(e){t.updateNav(!1,!1,!0)}}},[t._v("My Music Mastery")]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item",class:{active:t.home}},[s("a",{staticClass:"nav-link",class:{disabled:t.login},attrs:{href:"#"},on:{click:function(e){t.updateNav(!1,!1,!0,!1)}}},[t._v("Home")])]),s("li",{staticClass:"nav-item",class:{active:t.newEntry}},[s("a",{staticClass:"nav-link",class:{disabled:t.login},attrs:{href:"#"},on:{click:function(e){t.updateNav(!0,!1,!1,!1)}}},[t._v(t._s(t.entryUID?"Existing":"New")+" Entry")])]),s("li",{staticClass:"nav-item",class:{active:t.profile}},[s("a",{staticClass:"nav-link",class:{disabled:t.login},attrs:{href:"#"},on:{click:function(e){t.updateNav(!1,!0,!1,!1)}}},[t._v("Profile")])]),s("li",{staticClass:"nav-item",class:{active:t.admin}},[s("a",{staticClass:"nav-link",class:{disabled:t.login},attrs:{href:"#"},on:{click:function(e){t.updateNav(!1,!1,!1,!0)}}},[t._v("Admin")])])])])])},Ct=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],xt={name:"Header",props:{},beforeMount:function(){},computed:Object(i["b"])({login:function(t){return t.container.login},newEntry:function(t){return t.container.newEntry},profile:function(t){return t.container.profile},home:function(t){return t.container.home},admin:function(t){return t.container.admin},entryUID:function(t){return t.container.entryUID},sheet:function(t){return t.container.sheet}}),methods:{updateNav:function(t,e,s,a){this.$store.commit("container/setNewEntry",t),this.$store.commit("container/setProfile",e),this.$store.commit("container/setHome",s),this.$store.commit("container/setAdmin",a),this.$store.commit("container/setSheet",!1)}}},St=xt,wt=(s("r7hH"),Object(m["a"])(St,_t,Ct,!1,null,"a61d97bc",null)),Pt=wt.exports,kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("br"),s("ul",{staticClass:"nav nav-tabs"},[s("li",{staticClass:"nav-item",on:{click:function(e){t.selection="sheets"}}},[s("a",{staticClass:"nav-link",class:{active:"sheets"===t.selection},attrs:{href:"#"}},[t._v("Sheets")])]),s("li",{staticClass:"nav-item",on:{click:function(e){t.selection="entries"}}},[s("a",{staticClass:"nav-link",class:{active:"entries"===t.selection},attrs:{href:"#"}},[t._v("Entries")])]),s("li",{staticClass:"nav-item",on:{click:function(e){t.selection="customPieces"}}},[s("a",{staticClass:"nav-link",class:{active:"customPieces"===t.selection},attrs:{href:"#"}},[t._v("Custom Pieces")])]),s("li",{staticClass:"nav-item",on:{click:function(e){t.selection="customStrategies"}}},[s("a",{staticClass:"nav-link",class:{active:"customStrategies"===t.selection},attrs:{href:"#"}},[t._v("Custom Strategies")])])]),s("br"),"sheets"===t.selection?s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("\n                Sheets\n            ")]),s("div",{staticClass:"card-body"},t._l(t.sheets,function(e,a){return s("div",{key:a},[s("a",{attrs:{href:""},on:{click:function(e){t.goToSheet(a,e)}}},[t._v(t._s(e.entryName))])])}))]):t._e(),"entries"===t.selection?s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("\n                Entries\n            ")]),s("div",{staticClass:"card-body"},t._l(t.entries,function(e,a){return s("div",{key:a},[s("a",{attrs:{href:""},on:{click:function(e){t.goToEntry(a,e)}}},[t._v(t._s(e.entryName))]),s("Edit",{on:{editEntry:function(e){t.goToEntry(a)}}}),s("EntryAdd",{on:{addEntry:function(s){t.addEntry(e)}}})],1)}))]):t._e(),"customPieces"===t.selection?s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("\n                Add/Edit Custom Pieces\n            ")]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.piece,expression:"piece"}],staticClass:"form-control",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.piece=e.target.multiple?s:s[0]},t.pieceSelect]}},[s("option",{attrs:{value:""}},[t._v("\n                                Add New Custom Piece\n                            ")]),t._l(t.customPieces,function(e,a){return s("option",{key:a,attrs:{ind:a},domProps:{value:e.name}},[t._v("\n                                "+t._s(e.name)+"\n                            ")])})],2)])]),s("br"),s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"input-group mb-3"},[t._m(0),s("input",{staticClass:"form-control",attrs:{id:"pieceName",type:"text"},domProps:{value:t.customPieces[t.pieceIndex]?t.customPieces[t.pieceIndex].name:""}})])]),s("div",{staticClass:"col"},[s("div",{staticClass:"input-group mb-3"},[t._m(1),s("input",{staticClass:"form-control",attrs:{id:"pieceSource",type:"text"},domProps:{value:t.customPieces[t.pieceIndex]?t.customPieces[t.pieceIndex].source:""}})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"input-group mb-3"},[t._m(2),s("input",{staticClass:"form-control",attrs:{id:"pieceAuthor",type:"text"},domProps:{value:t.customPieces[t.pieceIndex]?t.customPieces[t.pieceIndex].author:""}})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"form-check form-check-inline"},[s("input",{staticClass:"form-check-input",attrs:{id:"pieceMaster",type:"checkbox"},domProps:{checked:!!t.customPieces[t.pieceIndex]&&t.customPieces[t.pieceIndex].master,value:!!t.customPieces[t.pieceIndex]&&t.customPieces[t.pieceIndex].master}}),s("label",{staticClass:"form-check-label",attrs:{for:"pieceMaster"}},[t._v("Master List Submission")])])]),s("transition",{attrs:{name:"fade"}},[t.updated?s("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("\n                                "+t._s(""!==t.piece?"Updated!":"Added!")+"\n                            ")]):t._e()]),s("div",{staticClass:"col"},[s("button",{staticClass:"btn btn-success",on:{click:t.updatePiece}},[t._v(t._s(""!==t.piece?"Update ":"Add ")+" Piece")])]),t.piece?s("div",{staticClass:"col"},[s("button",{staticClass:"btn btn-danger",on:{click:function(e){t.removeEntry("customPieces",t.customPieces[t.pieceIndex].id)}}},[t._v("Remove Piece")])]):t._e()],1)])])]):t._e(),"customStrategies"===t.selection?s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("\n                Add/Edit Custom Strategies\n            ")]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.strategy,expression:"strategy"}],staticClass:"form-control",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.strategy=e.target.multiple?s:s[0]},t.strategySelect]}},[s("option",{attrs:{value:""}},[t._v("\n                                Add New Custom Strategy\n                            ")]),t._l(t.customStrategies,function(e,a){return s("option",{key:a,attrs:{ind:a},domProps:{value:e.label}},[t._v("\n                                "+t._s(e.label)+"\n                            ")])})],2)])]),s("br"),s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"input-group mb-3"},[t._m(3),s("input",{staticClass:"form-control",attrs:{id:"stratLabel",type:"text"},domProps:{value:t.customStrategies[t.strategyIndex]?t.customStrategies[t.strategyIndex].label:""}})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"input-group mb-3"},[t._m(4),s("textarea",{staticClass:"form-control",attrs:{id:"stratDescription"},domProps:{value:t.customStrategies[t.strategyIndex]?t.customStrategies[t.strategyIndex].description:""}})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"form-check form-check-inline"},[s("input",{staticClass:"form-check-input",attrs:{id:"stratMaster",type:"checkbox"},domProps:{checked:!!t.customStrategies[t.strategyIndex]&&t.customStrategies[t.strategyIndex].master,value:!!t.customStrategies[t.strategyIndex]&&t.customStrategies[t.strategyIndex].master}}),s("label",{staticClass:"form-check-label",attrs:{for:"stratMaster"}},[t._v("Master List Submission")])])]),s("transition",{attrs:{name:"fade"}},[t.updated?s("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("\n                                "+t._s(""!==t.strategy?"Updated!":"Added!")+"\n                            ")]):t._e()]),s("div",{staticClass:"col"},[s("button",{staticClass:"btn btn-success",on:{click:t.updateStrategy}},[t._v(t._s(""!==t.strategy?"Update ":"Add ")+"  Strategy")])]),t.strategy?s("div",{staticClass:"col"},[s("button",{staticClass:"btn btn-danger",on:{click:function(e){t.removeEntry("customStrategies",t.customStrategies[t.strategyIndex].id)}}},[t._v("Remove Strategy")])]):t._e()],1)])])]):t._e(),s("br"),s("br")])},Et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("Name")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("Source")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("Author")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("Name")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("Description")])])}],It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit",on:{click:t.clicked}},[s("svg",{staticClass:"svg-inline--fa fa-edit fa-w-18",attrs:{"aria-hidden":"true","data-prefix":"fas","data-icon":"edit",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[s("path",{attrs:{fill:"currentColor",d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}})])])},Tt=[],Ut={name:"Edit",props:{},data:function(){return{}},beforeMount:function(){},methods:{clicked:function(){this.$emit("editEntry")}}},Mt=Ut,Dt=(s("tmM1"),Object(m["a"])(Mt,It,Tt,!1,null,"794a718f",null)),$t=Dt.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"file-plus",on:{click:t.clicked}},[s("svg",{staticClass:"svg-inline--fa fa-file-plus fa-w-12",attrs:{"aria-hidden":"true","data-prefix":"fas","data-icon":"file-plus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"}},[s("path",{attrs:{fill:"currentColor",d:"M384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm48 140c0-6.6-5.4-12-12-12h-60v-60c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v60h-60c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h60v60c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-60h60c6.6 0 12-5.4 12-12v-40z"}})])])},Ot=[],At={name:"EntryAdd",props:{},data:function(){return{}},beforeMount:function(){},methods:{clicked:function(){this.$emit("addEntry")}}},Lt=At,jt=(s("OvDs"),Object(m["a"])(Lt,Nt,Ot,!1,null,"3d11bbb6",null)),Rt=jt.exports,Ht={name:"Header",components:{Edit:$t,EntryAdd:Rt},props:{entries:Object,sheets:Object,customPieces:Array,customStrategies:Array,updated:Boolean},data:function(){return{selection:"entries",strategyIndex:"",pieceIndex:"",piece:"",strategy:""}},computed:Object(i["b"])({userUID:function(t){return t.user.user.uid}}),beforeMount:function(){},methods:{addEntry:function(t){var e=this;this.$store.dispatch("sheet/addEntrySheet",{userUID:this.userUID,entry:t}).then(function(t){e.$store.commit("container/setHome",!1),e.$store.commit("container/setSheet",!0)})},removeEntry:function(t,e){var s=this;this.$store.dispatch("entry/removeCustomEntry",{userUID:this.userUID,custom:t,entryUID:e}).then(function(){"customPieces"===t&&(s.piece="",s.pieceIndex=""),"customStrategies"===t&&(s.strategy="",s.strategyIndex="")})},updateStrategy:function(){var t=document.getElementById("stratLabel").value;if(t){var e=this.strategyIndex?this.customStrategies[this.strategyIndex].id:this.uuidv4(),s={id:e,label:t,description:document.getElementById("stratDescription").value,master:document.getElementById("stratMaster").checked},a={strategies:[s],pieces:[]};this.$store.dispatch("entry/updateUserEntry",{userUID:this.userUID,userEntries:a}).then(function(){})}},updatePiece:function(){var t=document.getElementById("pieceName").value;if(t){var e=this.pieceIndex?this.customPieces[this.pieceIndex].id:this.uuidv4(),s={id:e,name:t,source:document.getElementById("pieceSource").value,author:document.getElementById("pieceAuthor").value,master:document.getElementById("pieceMaster").checked},a={strategies:[],pieces:[s]};this.$store.dispatch("entry/updateUserEntry",{userUID:this.userUID,userEntries:a}).then(function(){})}},strategySelect:function(t){var e=t.currentTarget.options[t.currentTarget.options.selectedIndex].getAttribute("ind");this.strategyIndex=e?parseInt(e):""},pieceSelect:function(t){var e=t.currentTarget.options[t.currentTarget.options.selectedIndex].getAttribute("ind");this.pieceIndex=e?parseInt(e):""},goToEntry:function(t,e){e&&e.preventDefault(),this.$store.commit("container/setExistingEntry",this.entries[t]),this.$store.commit("container/setEntryUID",t),this.$store.commit("container/setHome",!1),this.$store.commit("container/setNewEntry",!0)},goToSheet:function(t,e){e&&e.preventDefault(),this.$store.commit("sheet/setActiveSheetId",t),this.$store.commit("sheet/setActiveSheet",this.sheets[t]),this.$store.commit("container/setHome",!1),this.$store.commit("container/setSheet",!0)},uuidv4:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})}}},Ft=Ht,zt=(s("30ld"),Object(m["a"])(Ft,kt,Et,!1,null,"081640d4",null)),Vt=zt.exports,Bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sheet"},[s("br"),s("br"),s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("\n                Sheet View\n            ")]),s("div",{staticClass:"card-body"},[s("br"),s("br"),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h2",[t._v(t._s(t.sheet.entryName))]),s("br"),s("br"),s("input",{staticClass:"form-control",attrs:{type:"week"},domProps:{value:t.sheet.week},on:{change:t.weekChange}}),s("br"),s("br"),t._v("\n                        "+t._s(t.weekString)+"\n                        "),s("br"),s("br"),s("br"),t._l(Object.keys(t.sheet).filter(function(t){return"entryName"!==t&&"week"!==t}),function(e){return s("div",{key:e,staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h5",[s("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:function(s){t.handlePieceToggle(e)}}},[t._v("\n                                                "+t._s(t.sheet[e].name)+"\n                                            ")])])]),s("transition",{attrs:{name:"fade",mode:"out-in"}},[t.pieceToggle[e]?s("div",{staticClass:"collapse show"},[s("div",{staticClass:"card-body"},[s("label",[t._v("Source:")]),t._v(" "+t._s(t.sheet[e].source)),s("br"),t.sheet[e].link?s("a",{attrs:{href:t.sheet[e].link}},[t._v("Video Link")]):t._e(),s("br"),s("label",[t._v("Tempo:")]),t._v(t._s(t.sheet[e].tempo)),s("br"),t.sheet[e].strategies?s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("\n                                                        Strategies\n                                                    ")]),s("div",{staticClass:"card-body"},t._l(t.sheet[e].strategies,function(a,i){return s("div",{key:i,staticClass:"row strategy"},[s("div",{staticClass:"col"},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-bordered"},[s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("\n                                                                                Practice Strategy\n                                                                            ")]),s("th",{attrs:{scope:"col"}},[t._v("M")]),s("th",{attrs:{scope:"col"}},[t._v("T")]),s("th",{attrs:{scope:"col"}},[t._v("W")]),s("th",{attrs:{scope:"col"}},[t._v("H")]),s("th",{attrs:{scope:"col"}},[t._v("F")]),s("th",{attrs:{scope:"col"}},[t._v("Sat")]),s("th",{attrs:{scope:"col"}},[t._v("Sun")]),s("th",{attrs:{scope:"col"}},[t._v("Mastery")])])]),s("tbody",[s("tr",[s("th",{attrs:{scope:"row"}},[s("div",{staticClass:"strategyLabel",on:{click:function(e){t.handleStrategyToggle("s"+i)}}},[t._v("\n                                                                                "+t._s(a.label)+"\n                                                                            ")]),s("transition",{attrs:{name:"fade",mode:"out-in"}},[t.strategyToggle["s"+i]?s("div",[s("span",{domProps:{innerHTML:t._s(t.formatDescription(a.description))}})]):t._e()])],1),s("td",[s("input",{staticClass:"practiced-ind",attrs:{type:"text"},domProps:{value:a.practice&&a.practice.monday?a.practice.monday.time:""},on:{change:function(s){t.updateTime(e,null,i,"monday")}}})]),s("td",[s("input",{staticClass:"practiced-ind",attrs:{type:"text"},domProps:{value:a.practice&&a.practice.tuesday?a.practice.tuesday.time:""},on:{change:function(s){t.updateTime(e,null,i,"tuesday")}}})]),s("td",[s("input",{staticClass:"practiced-ind",attrs:{type:"text"},domProps:{value:a.practice&&a.practice.wednesday?a.practice.wednesday.time:""},on:{change:function(s){t.updateTime(e,null,i,"wednesday")}}})]),s("td",[s("input",{staticClass:"practiced-ind",attrs:{type:"text"},domProps:{value:a.practice&&a.practice.thursday?a.practice.thursday.time:""},on:{change:function(s){t.updateTime(e,null,i,"thursday")}}})]),s("td",[s("input",{staticClass:"practiced-ind",attrs:{type:"text"},domProps:{value:a.practice&&a.practice.friday?a.practice.friday.time:""},on:{change:function(s){t.updateTime(e,null,i,"friday")}}})]),s("td",[s("input",{staticClass:"practiced-ind",attrs:{type:"text"},domProps:{value:a.practice&&a.practice.saturday?a.practice.saturday.time:""},on:{change:function(s){t.updateTime(e,null,i,"saturday")}}})]),s("td",[s("input",{staticClass:"practiced-ind",attrs:{type:"text"},domProps:{value:a.practice&&a.practice.sunday?a.practice.sunday.time:""},on:{change:function(s){t.updateTime(e,null,i,"sunday")}}})]),s("td",[s("input",{staticClass:"practiced-ind",attrs:{type:"text"},domProps:{value:a.practice&&a.practice.mastery?a.practice.mastery.time:""},on:{change:function(s){t.updateTime(e,null,i,"mastery")}}})])])])])])])])}))]):t._e(),t._l(t.sheet[e].measures,function(a,i){return s("div",{key:i,staticClass:"row measure"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("\n                                                                Measure: "+t._s(a.measure)+"\n                                                            ")]),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v("Tempo: "+t._s(a.tempo))]),s("p",{staticClass:"card-text"},[t._v("Measure Strategies:")]),t._l(a.strategies,function(a,n){return s("div",{key:n,staticClass:"row measure-strategy"},[s("div",{staticClass:"col"},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-bordered"},[s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("\n                                                                                        Practice Strategy\n                                                                                    ")]),s("th",{attrs:{scope:"col"}},[t._v("M")]),s("th",{attrs:{scope:"col"}},[t._v("T")]),s("th",{attrs:{scope:"col"}},[t._v("W")]),s("th",{attrs:{scope:"col"}},[t._v("H")]),s("th",{attrs:{scope:"col"}},[t._v("F")]),s("th",{attrs:{scope:"col"}},[t._v("Sat")]),s("th",{attrs:{scope:"col"}},[t._v("Sun")]),s("th",{attrs:{scope:"col"}},[t._v("Mastery")])])]),s("tbody",[s("tr",[s("th",{attrs:{scope:"row"}},[s("div",{staticClass:"strategyLabel",on:{click:function(e){t.handleStrategyToggle("ms"+n)}}},[t._v("\n                                                                                        "+t._s(a.label)+"\n                                                                                    ")]),s("transition",{attrs:{name:"fade",mode:"out-in"}},[t.strategyToggle["ms"+n]?s("div",[s("span",{domProps:{innerHTML:t._s(t.formatDescription(a.description))}})]):t._e()])],1),s("td",[s("input",{staticClass:"practiced-ind",attrs:{type:"text"},domProps:{value:a.practice&&a.practice.monday?a.practice.monday.time:""},on:{change:function(s){t.updateTime(e,i,n,"monday")}}})]),s("td",[s("input",{staticClass:"practiced-ind",attrs:{type:"text"},domProps:{value:a.practice&&a.practice.tuesday?a.practice.tuesday.time:""},on:{change:function(s){t.updateTime(e,i,n,"tuesday")}}})]),s("td",[s("input",{staticClass:"practiced-ind",attrs:{type:"text"},domProps:{value:a.practice&&a.practice.wednesday?a.practice.wednesday.time:""},on:{change:function(s){t.updateTime(e,i,n,"wednesday")}}})]),s("td",[s("input",{staticClass:"practiced-ind",attrs:{type:"text"},domProps:{value:a.practice&&a.practice.thursday?a.practice.thursday.time:""},on:{change:function(s){t.updateTime(e,i,n,"thursday")}}})]),s("td",[s("input",{staticClass:"practiced-ind",attrs:{type:"text"},domProps:{value:a.practice&&a.practice.friday?a.practice.friday.time:""},on:{change:function(s){t.updateTime(e,i,n,"friday")}}})]),s("td",[s("input",{staticClass:"practiced-ind",attrs:{type:"text"},domProps:{value:a.practice&&a.practice.saturday?a.practice.saturday.time:""},on:{change:function(s){t.updateTime(e,i,n,"saturday")}}})]),s("td",[s("input",{staticClass:"practiced-ind",attrs:{type:"text"},domProps:{value:a.practice&&a.practice.sunday?a.practice.sunday.time:""},on:{change:function(s){t.updateTime(e,i,n,"sunday")}}})]),s("td",[s("input",{staticClass:"practiced-ind",attrs:{type:"text"},domProps:{value:a.practice&&a.practice.mastery?a.practice.mastery.time:""},on:{change:function(s){t.updateTime(e,i,n,"mastery")}}})])])])])])])])})],2)])])])}),s("br"),s("label",[t._v("Notes:")]),s("br"),s("textarea",{staticClass:"form-control",domProps:{value:t.sheet[e].notes},on:{change:function(s){t.updatePieceNotes(e)}}}),s("br")],2)]):t._e()])],1)])])})],2)]),s("br"),s("br")])])])},Wt=[],Yt={name:"Sheet",props:{},computed:Object(i["b"])({sheet:function(t){return t.sheet.activeSheet},sheetId:function(t){return t.sheet.activeSheetId},userId:function(t){return t.user.user.uid},weekString:function(){if(this.sheet.week){var t=this.sheet.week.split("-W"),e=this.getDateOfWeek(t[1],t[0]),s=e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear();e.setDate(e.getDate()+7);var a=e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear();return s+" - "+a}return""}}),components:{},beforeMount:function(){},created:function(){},data:function(){return{week:"",strategyToggle:{},pieceToggle:{},temp:{show:!1}}},methods:{updatePieceNotes:function(t){this.$store.dispatch("sheet/updatePieceNotes",{uid:this.userId,sheetId:this.sheetId,pieceIndex:t,notes:event.target.value})},test:function(){event.preventDefault(),this.temp.show=!this.temp.show},getDateOfWeek:function(t,e){var s=1+7*(t-1);return new Date(e,0,s)},weekChange:function(t){this.$store.dispatch("sheet/updateWeek",{uid:this.userId,sheetId:this.sheetId,week:t.target.value})},handleStrategyToggle:function(t){this.strategyToggle[t]=!this.strategyToggle[t],this.strategyToggle=Object(ut["a"])({},this.strategyToggle)},handlePieceToggle:function(t){this.pieceToggle[t]=!this.pieceToggle[t],this.pieceToggle=Object(ut["a"])({},this.pieceToggle)},formatDescription:function(t){return t=t.replace(/\n/g,"<br />"),t},updateTime:function(t,e,s,a){null!==e?(this.sheet[t].measures[e].strategies[s].practice||(this.sheet[t].measures[e].strategies[s].practice={}),this.sheet[t].measures[e].strategies[s].practice[a]||(this.sheet[t].measures[e].strategies[s].practice[a]={}),this.sheet[t].measures[e].strategies[s].practice[a].time=event.target.value):(this.sheet[t].strategies[s].practice||(this.sheet[t].strategies[s].practice={}),this.sheet[t].strategies[s].practice[a]||(this.sheet[t].strategies[s].practice[a]={}),this.sheet[t].strategies[s].practice[a].time=event.target.value),this.$store.dispatch("sheet/updateMeasurePracticeTime",{uid:this.userId,sheetId:this.sheetId,sheet:this.sheet[t],sheetRef:t})}}},Gt=Yt,Kt=(s("xdV4"),Object(m["a"])(Gt,Bt,Wt,!1,null,"3d42e358",null)),qt=Kt.exports,Jt={name:"mymusicmastery",components:{Login:f,Steps:rt,Profile:mt,Header:Pt,Home:Vt,Admin:bt,Sheet:qt},created:function(){},data:function(){return{existingEntry:null,entryUID:""}},computed:Object(i["b"])({user:function(t){return t.user.user},login:function(t){return t.container.login},profile:function(t){return t.container.profile},newEntry:function(t){return t.container.newEntry},admin:function(t){return t.container.admin},home:function(t){return t.container.home},updated:function(t){return t.entry.updated},sheet:function(t){return t.container.sheet}}),methods:{updateData:function(t){this[t.ref]=t.val}}},Xt=Jt,Qt=(s("ksfM"),s("DfaC"),Object(m["a"])(Xt,n,r,!1,null,null,null)),Zt=Qt.exports,te=s("Snq/"),ee=s.n(te),se={user:{phoneNumber:null,providerData:null,name:null,email:null,photoUrl:null,uid:null,instrument:null,ageRange:null,skillLevel:null,entries:{},customPieces:[],customStrategies:[]},updatedSuccess:!1},ae={},ie={getUserInfo:function(t,e){var s=t.commit;J||(J=u["database"]()),J.ref("users/"+e.uid).on("value",function(t){var a=t.val(),i=Object(ut["a"])({},e);i.instrument=a.instrument||"",i.ageRange=a.ageRange||"",i.skillLevel=a.skillLevel||"",i.entries=a.entries,i.sheets=a.sheets,a.customPieces||(a.customPieces={}),a.customStrategies||(a.customStrategies={}),i.entries||(i.entries={}),i.customPieces=Object.keys(a.customPieces).reduce(function(t,e){return t.push({id:a.customPieces[e].id,name:a.customPieces[e].name,author:a.customPieces[e].author||"",link:"",measures:[],notes:"",source:a.customPieces[e].source||"User Entry",strategies:[],tempo:"",custom:!0,master:a.customPieces[e].master||!1}),t},[]),i.customStrategies=Object.keys(a.customStrategies).map(function(t){return a.customStrategies[t].custom=!0,a.customStrategies[t]}),Object.keys(i.entries).map(function(t){Object.keys(i.entries[t]).map(function(e){"entryName"!==e&&(i.entries[t][e].measures||i.entries[t][e].strategies||(i.entries[t][e].strategies=[]))})}),s("setUser",i)},function(t){console.log("read failed")})},setUserProfile:function(t,e){var s=t.commit;J.ref("users/"+e.uid).update({instrument:e.instrument,ageRange:e.ageRange,skillLevel:e.skillLevel}).then(function(){s("setUser",e),s("updateSuccess",!0),setTimeout(function(){s("updateSuccess",!1)},1e3)})},setUserInfo:function(t,e){t.commit;J||(J=u["database"]()),J.ref("users/"+e.uid).update({username:e.name,email:e.email,profile_picture:e.photoUrl})}},ne={setUser:function(t,e){t.user=e},updateSuccess:function(t,e){t.updatedSuccess=e}},re={namespaced:!0,state:se,getters:ae,actions:ie,mutations:ne},ce={login:!1,newEntry:!1,profile:!1,home:!0,admin:!1,sheet:!1,entryUID:"",existingEntry:""},oe={},ue={},le={exitEntry:function(t){t.newEntry=!1,t.entryUID="",t.existingEntry="",t.home=!0},setSheet:function(t,e){t.sheet=e},setLogin:function(t,e){t.login=e},setNewEntry:function(t,e){t.newEntry=e},setProfile:function(t,e){t.profile=e},setHome:function(t,e){t.home=e},setAdmin:function(t,e){t.admin=e},setEntryUID:function(t,e){t.entryUID=e},setExistingEntry:function(t,e){t.existingEntry=e}},de={namespaced:!0,state:ce,getters:oe,actions:ue,mutations:le},pe={selectedPieces:[],updated:!1},me={},ve={updateUserEntry:function(t,e){var s=t.commit;t.rootState;X||(X=u["database"]());var a=e.userEntries.strategies.reduce(function(t,e){return t[e.id]=e,t},{}),i=e.userEntries.pieces.reduce(function(t,e){return t[e.id]=e,t},{});X.ref("users/"+e.userUID+"/customPieces/").update(i),X.ref("users/"+e.userUID+"/customStrategies/").update(a),s("setUpdated",!0),setTimeout(function(){s("setUpdated",!1)},1e3)},updateEntry:function(t,e){var s=t.commit;X||(X=u["database"]()),X.ref("users/"+e.userUID+"/entries/"+e.entryUID).set(e.selectedPieces).then(function(){s("container/exitEntry",null,{root:!0})},function(t){console.log(t),alert("err saving, please contact support.")})},addEntry:function(t,e){var s=t.commit;X||(X=u["database"]());var a=X.ref("users/"+e.userUID+"/entries").push();a.set(e.selectedPieces).then(function(){s("container/exitEntry",null,{root:!0})},function(t){console.log(t),alert("err saving, please contact support.")})},removeCustomEntry:function(t,e){t.commit;X||(X=u["database"]()),X.ref("users/"+e.userUID+"/"+e.custom+"/"+e.entryUID).set(null)},addEntrySheet:function(t,e){t.commit;X||(X=u["database"]());var s=X.ref("users/"+e.userUID+"/sheets").push();return s.set(e.entry),s.key}},fe={setSelectedPieces:function(t,e){t.selectedPieces=e},addToSelectedPieces:function(t,e){t.selectedPieces.push(e)},setEntryName:function(t,e){t.selectedPieces.entryName=e},addToSelectedPieceStrat:function(t,e){t.selectedPieces[e.index].strategies.push(e.strat)},addToSelectedMeasureStrat:function(t,e){t.selectedPieces[e.index].measures[e.indexM].strategies.push(e.strat)},updatePieceTempo:function(t,e){t.selectedPieces[e.ind].tempo=e.tempo},addToMeasure:function(t,e){e.measure.strategies=[],e.measure.id=t.selectedPieces[e.index].measures.length,t.selectedPieces[e.index].measures.push(e.measure)},updateSelectedPieces:function(t,e){t.selectedPieces=e},updateSelectedPieceStrat:function(t,e){t.selectedPieces[e.index].strategies=e.strategies},updateSelectedMeasureStrat:function(t,e){t.selectedPieces[e.index].measures[e.indexM].strategies=e.strategies},setName:function(t,e){t.selectedPieces.entryName=e},setNotes:function(t,e){t.selectedPieces[parseInt(e.index)].notes=e.notes},setLink:function(t,e){t.selectedPieces[parseInt(e.index)].link=e.link},setUpdated:function(t,e){t.updated=e}},he={namespaced:!0,state:pe,getters:me,actions:ve,mutations:fe},ge={activeSheet:{},activeSheetId:""},ye={},be={addEntrySheet:function(t,e){var s=t.commit;Q||(Q=u["database"]());var a=Q.ref("users/"+e.userUID+"/sheets").push(),i=new Date;i.setDate(i.getDate()+(8-i.getDay())%7);var n=Ce(i);return e.entry.week=n[0]+"-W"+n[1],a.set(e.entry),s("setActiveSheetId",a.key),s("setActiveSheet",e.entry),a.key},updateWeek:function(t,e){var s=t.commit;Q||(Q=u["database"]()),Q.ref("users/"+e.uid+"/sheets/"+e.sheetId).update({week:e.week}),s("updateWeek",e.week)},updatePieceNotes:function(t,e){var s=t.commit;Q||(Q=u["database"]()),Q.ref("users/"+e.uid+"/sheets/"+e.sheetId+"/"+e.pieceIndex).update({notes:e.notes}),s("updatePieceNotes",{index:e.pieceIndex,notes:e.notes})},updateMeasurePracticeTime:function(t,e){t.commit;Q||(Q=u["database"]());var s=e.sheetRef,a=e.sheet;Q.ref("users/"+e.uid+"/sheets/"+e.sheetId+"/"+s).update(a)}},_e={setActiveSheet:function(t,e){t.activeSheet=e},setActiveSheetId:function(t,e){t.activeSheetId=e},updateWeek:function(t,e){t.activeSheet.week=e},updatePieceNotes:function(t,e){t.activeSheet[e.index].notes=e.notes}};function Ce(t){t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));var e=new Date(Date.UTC(t.getUTCFullYear(),0,1)),s=Math.ceil(((t-e)/864e5+1)/7);return[t.getUTCFullYear(),s]}var xe={namespaced:!0,state:ge,getters:ye,actions:be,mutations:_e},Se=(s("Vd3H"),{musicPieces:[],practiceStrategies:[]}),we={},Pe={getMusicPieces:function(t){var e=t.commit;if(!Se.musicPieces.length){var s,a,i={},n={map:{},rows:[]},r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=JSON.parse(r.responseText);a=t.valueRanges[1].values,a.shift(),i=a.reduce(function(t,e){return t[e[1].toString()]=e[0],t},i),s=t.valueRanges[0].values,s.shift(),n=s.sort(function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:t[2]-e[2]}).reduce(function(t,e){return t.map[e[1]]={sourceID:e[2]},t.rows.push({name:e[0],source:i[e[2]],tempo:"",measures:[],strategies:[],id:e[1],link:"",notes:""}),t},n),e("setMusicPieces",n)}},r.open("GET","https://sheets.googleapis.com/v4/spreadsheets/1uVMJcnjaxyz8_w6xrR5AFiQ8zMktKuOPEsLL3q7YofM/values:batchGet?ranges=Piece!A:C&ranges=Source!A:B&key=AIzaSyA251gYOA-3nYb0uOHRvdeF5f-zX2PhmpA",!0),r.send()}},getPracticeStrategies:function(t){var e=t.commit;if(!Se.practiceStrategies.length){var s,a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=JSON.parse(a.responseText);s=t.valueRanges[0].values,s.shift(),s=s.sort(function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:0}).reduce(function(t,e){return t.push({label:e[0],id:e[1],description:e[2]||""}),t},[]),e("setPracticeStrategies",s)}},a.open("GET","https://sheets.googleapis.com/v4/spreadsheets/1SOvyvvAGUuniEf2EXT0jSk4v0cDdq_mxIFRmH1Tvilk/values:batchGet?ranges=PS!A:C&key=AIzaSyA251gYOA-3nYb0uOHRvdeF5f-zX2PhmpA",!0),a.send()}}},ke={setMusicPieces:function(t,e){t.musicPieces=e},setPracticeStrategies:function(t,e){t.practiceStrategies=e},addToPracticeStrategies:function(t,e){t.practiceStrategies.push(e)}},Ee={namespaced:!0,state:Se,getters:we,actions:Pe,mutations:ke};a["a"].use(i["a"]);var Ie=!0,Te=new i["a"].Store({modules:{user:re,container:de,entry:he,sheet:xe,gsheets:Ee},strict:Ie}),Ue={apiKey:"AIzaSyAnOLXNO4MiB1H9yu8AVkHTnPdkhjY7Epc",authDomain:"mymusicmaster-57ff1.firebaseapp.com",databaseURL:"https://mymusicmaster-57ff1.firebaseio.com",projectId:"mymusicmaster-57ff1",storageBucket:"mymusicmaster-57ff1.appspot.com",messagingSenderId:"404183510072"};u["initializeApp"](Ue),a["a"].component("v-select",ee.a),a["a"].config.productionTip=!1,a["a"].use(i["a"]),new a["a"]({store:Te,render:function(t){return t(Zt)}}).$mount("#mymusicmastery")},f1V5:function(t,e,s){},foop:function(t,e,s){"use strict";var a=s("Jubf"),i=s.n(a);i.a},hyVt:function(t,e,s){},i6ih:function(t,e,s){},lMCu:function(t,e,s){},r7hH:function(t,e,s){"use strict";var a=s("uxnv"),i=s.n(a);i.a},sdO4:function(t,e,s){"use strict";var a=s("f1V5"),i=s.n(a);i.a},tmM1:function(t,e,s){"use strict";var a=s("i6ih"),i=s.n(a);i.a},utu2:function(t,e,s){},uxnv:function(t,e,s){},"vY1/":function(t,e,s){},xMxM:function(t,e,s){},xdV4:function(t,e,s){"use strict";var a=s("AvL6"),i=s.n(a);i.a}});
//# sourceMappingURL=app.01afefcd.js.map