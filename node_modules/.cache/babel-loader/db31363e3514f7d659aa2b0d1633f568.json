{"remainingRequest":"/Users/tdowdle/Projects/MyMusicMastery/strategies/node_modules/babel-loader/lib/index.js!/Users/tdowdle/Projects/MyMusicMastery/strategies/node_modules/eslint-loader/index.js??ref--13-0!/Users/tdowdle/Projects/MyMusicMastery/strategies/src/pdf.js","dependencies":[{"path":"/Users/tdowdle/Projects/MyMusicMastery/strategies/src/pdf.js","mtime":1529560258915},{"path":"/Users/tdowdle/Projects/MyMusicMastery/strategies/node_modules/cache-loader/dist/cjs.js","mtime":1529560903522},{"path":"/Users/tdowdle/Projects/MyMusicMastery/strategies/node_modules/babel-loader/lib/index.js","mtime":1526583314000},{"path":"/Users/tdowdle/Projects/MyMusicMastery/strategies/node_modules/eslint-loader/index.js","mtime":1519638534000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.string.link\";\nexport function generatePDF(data) {\n  var doc = new jsPDF('p', 'pt');\n  doc.setFontSize(12);\n  doc.setTextColor(0);\n  doc.setFontStyle('bold'); //doc.text('Timothy McMurray', 40, 50);\n\n  generatePieceHeader(doc);\n  doc.setTextColor(0);\n  var columns = [{\n    title: \"Piece\",\n    dataKey: \"name\"\n  }, {\n    title: \"Measure\",\n    dataKey: \"measures\"\n  }]; //return doc;\n\n  doc.autoTable(columns, data, {\n    theme: 'grid',\n    startY: 80,\n    tableWidth: 575,\n    margin: 10,\n    styles: {\n      lineColor: [0, 0, 0]\n    },\n    drawHeaderCell: function drawHeaderCell(cell, data) {\n      return false;\n    },\n    drawHeaderRow: function drawHeaderRow(row, data) {\n      return false;\n    },\n    drawRow: function drawRow(row, data) {\n      if (row.index > 0) {\n        doc.addPage();\n        generatePieceHeader(doc);\n        data.cursor.y = 80;\n      } //calculate row height based on data.row.raw.source\n\n\n      if (data.row.raw.measures && data.row.raw.measures.length) {\n        row.height = 200;\n      } else if (data.row.strategies) {\n        row.height = 20 * data.row.raw.strategies.length;\n      }\n\n      if (row.height < 80) {\n        row.height = 80;\n      }\n\n      if (60 + data.row.raw.source.length / 50 * 20 > row.height) {\n        row.height = 60 + Math.ceil(data.row.raw.source.length / 50) * 20;\n      }\n    },\n    drawCell: function drawCell(cell, data) {\n      if (data.column.index === 0) {\n        cell.width = 184;\n\n        if (data.row.raw.source) {\n          cell.text.push('');\n          cell.text.push('Source:');\n          var sourceCollect = '';\n          cell.text = cell.text.concat(breakUptext(40, data.row.raw.source));\n          cell.text.push('');\n        }\n\n        if (data.row.raw.tempo) {\n          cell.text.push('Assigned tempo: ' + data.row.raw.tempo);\n        }\n      }\n\n      if (data.column.index === 1) {\n        if (data.row.raw.measures && data.row.raw.measures.length) {\n          var trackHeight = 0,\n              measureIndex = 0,\n              height,\n              hitNewPage = false; //doc.text(strategy.label, cell.x+87, cell.y+(20*(index))+14);\n\n          data.row.raw.measures.map(function (measure, index) {\n            height = measure.strategies.length * 20;\n\n            if (height <= 40) {\n              height = 60;\n            }\n\n            var currentMeasure = deliminateText(13, measure.measure);\n            doc.rect(cell.x, cell.y + trackHeight, 85, height); //x,y,width,height\n\n            doc.text('m. ' + currentMeasure, cell.x + 4, cell.y + trackHeight + 14);\n            doc.text('tempo ' + measure.tempo, cell.x + 4, cell.y + trackHeight + 29);\n            doc.setFontSize(9);\n            var removeIndex = 0;\n            measure.strategies.map(function (strategy, indexS) {\n              indexS = indexS - removeIndex;\n              var currentStrategy = deliminateText(19, strategy.label);\n              doc.rect(cell.x + 85, cell.y + trackHeight + 20 * indexS, 306, 20); //x,y,width,height\n\n              doc.text(currentStrategy, cell.x + 87, cell.y + trackHeight + 20 * indexS + 14);\n              doc.line(369, cell.y + trackHeight + 20 * indexS, 369, cell.y + trackHeight + 20 * indexS + 20);\n              doc.line(369 + 24 * 1, cell.y + trackHeight + 20 * indexS, 369 + 24 * 1, cell.y + trackHeight + 20 * indexS + 20); //x,y\n\n              doc.line(369 + 24 * 2, cell.y + trackHeight + 20 * indexS, 369 + 24 * 2, cell.y + trackHeight + 20 * indexS + 20);\n              doc.line(369 + 24 * 3, cell.y + trackHeight + 20 * indexS, 369 + 24 * 3, cell.y + trackHeight + 20 * indexS + 20);\n              doc.line(369 + 24 * 4, cell.y + trackHeight + 20 * indexS, 369 + 24 * 4, cell.y + trackHeight + 20 * indexS + 20);\n              doc.line(369 + 24 * 5, cell.y + trackHeight + 20 * indexS, 369 + 24 * 5, cell.y + trackHeight + 20 * indexS + 20);\n              doc.line(369 + 24 * 6, cell.y + trackHeight + 20 * indexS, 369 + 24 * 6, cell.y + trackHeight + 20 * indexS + 20);\n              doc.line(369 + 24 * 7, cell.y + trackHeight + 20 * indexS, 369 + 24 * 7, cell.y + trackHeight + 20 * indexS + 20);\n\n              if (trackHeight + 20 * indexS >= 720) {\n                removeIndex = indexS + 1;\n                doc.addPage();\n                generatePieceHeader(doc);\n                trackHeight = 0;\n                hitNewPage = true;\n                measureIndex = indexS - removeIndex;\n              } else {\n                measureIndex = indexS;\n              }\n            });\n            doc.setFontSize(10);\n\n            if (data.row.raw.measures.length === index + 1) {\n              if (data.row.raw.notes) {\n                if (!hitNewPage) {\n                  measureIndex = index;\n                }\n\n                var noteBlocks = breakUptext(80, data.row.raw.notes),\n                    hasLink = 0;\n\n                if (trackHeight + (noteBlocks.length + 2) * 20 > 630) {\n                  trackHeight = 0;\n                  measureIndex = 0;\n                  doc.addPage();\n                  generatePieceHeader(doc);\n                }\n\n                if (trackHeight < 40) {\n                  trackHeight = 40;\n                }\n\n                if (data.row.raw.link) {\n                  hasLink = 1;\n                  doc.setTextColor(0, 0, 255);\n                  doc.text(data.row.raw.link, cell.x + 4, cell.y + 20 * measureIndex + 38 + (noteBlocks.length + 1) * 12 + trackHeight);\n                  doc.setTextColor(0, 0, 0);\n                }\n\n                doc.rect(cell.x, cell.y + 20 * measureIndex + 20 + trackHeight, 391, 20 + (hasLink + noteBlocks.length) * 20);\n                doc.text('Notes / Comments:', cell.x + 2, cell.y + 20 * measureIndex + 32 + trackHeight);\n                noteBlocks.map(function (block, indexBlock) {\n                  doc.text(block, cell.x + 4, cell.y + 20 * measureIndex + 32 + (indexBlock + 1) * 12 + trackHeight);\n                });\n              }\n            }\n\n            trackHeight += height;\n          });\n        } else {\n          doc.setFontSize(9);\n\n          if (!data.row.raw.strategies) {\n            data.row.raw.strategies = [];\n          }\n\n          data.row.raw.strategies.map(function (strategy, index) {\n            var currentStrategy = deliminateText(19, strategy.label);\n            doc.rect(cell.x + 85, cell.y + 20 * index, 306, 20); //x,y,width,height\n\n            doc.text(currentStrategy, cell.x + 87, cell.y + 20 * index + 14);\n            doc.line(369, cell.y + 20 * index, 369, cell.y + 20 * index + 20);\n            doc.line(369 + 24 * 1, cell.y + 20 * index, 369 + 24 * 1, cell.y + 20 * index + 20); //x,y\n\n            doc.line(369 + 24 * 2, cell.y + 20 * index, 369 + 24 * 2, cell.y + 20 * index + 20);\n            doc.line(369 + 24 * 3, cell.y + 20 * index, 369 + 24 * 3, cell.y + 20 * index + 20);\n            doc.line(369 + 24 * 4, cell.y + 20 * index, 369 + 24 * 4, cell.y + 20 * index + 20);\n            doc.line(369 + 24 * 5, cell.y + 20 * index, 369 + 24 * 5, cell.y + 20 * index + 20);\n            doc.line(369 + 24 * 6, cell.y + 20 * index, 369 + 24 * 6, cell.y + 20 * index + 20);\n            doc.line(369 + 24 * 7, cell.y + 20 * index, 369 + 24 * 7, cell.y + 20 * index + 20); //doc.rect(cell.x, cell.y, 100, cell.height * (index+1), 'S');\n\n            if (data.row.raw.strategies.length === index + 1) {\n              doc.setFontSize(10);\n\n              if (data.row.raw.notes) {\n                var noteBlocks = breakUptext(80, data.row.raw.notes),\n                    hasLink = 0;\n\n                if (data.row.raw.link) {\n                  hasLink = 1;\n                  doc.setTextColor(0, 0, 255);\n                  doc.text(data.row.raw.link, cell.x + 4, cell.y + 20 * index + 41 + (noteBlocks.length + 1) * 12);\n                  doc.setTextColor(0, 0, 0);\n                }\n\n                doc.rect(cell.x, cell.y + 20 * index + 20, 391, 20 + (hasLink + noteBlocks.length) * 20);\n                doc.text('Notes / Comments:', cell.x + 2, cell.y + 20 * index + 33);\n                noteBlocks.map(function (block, indexBlock) {\n                  doc.text(block, cell.x + 4, cell.y + 20 * index + 33 + (indexBlock + 1) * 12);\n                });\n              }\n            }\n          });\n\n          if (!data.row.raw.strategies.length) {\n            if (data.row.raw.notes) {\n              var noteBlocks = breakUptext(80, data.row.raw.notes),\n                  hasLink = 0;\n\n              if (data.row.raw.link) {\n                hasLink = 1;\n                doc.setTextColor(0, 0, 255);\n                doc.text(data.row.raw.link, cell.x + 4, cell.y + 20 + 41 + (noteBlocks.length + 1) * 12);\n                doc.setTextColor(0, 0, 0);\n              }\n\n              doc.rect(cell.x, cell.y + 20 + 20, 391, 20 + (hasLink + noteBlocks.length) * 20);\n              doc.text('Notes / Comments:', cell.x + 2, cell.y + 20 + 33);\n              noteBlocks.map(function (block, indexBlock) {\n                doc.text(block, cell.x + 4, cell.y + 20 + 33 + (indexBlock + 1) * 12);\n              });\n            }\n          }\n        }\n\n        return false;\n      }\n    }\n  }); // doc.addPage();\n\n  return doc;\n}\n\nvar deliminateText = function deliminateText(textLength, source) {\n  if (source.length > textLength) {\n    source = source.substring(0, textLength).trim() + '..';\n  }\n\n  return source;\n};\n\nvar breakUptext = function breakUptext(textLength, source) {\n  var sourceCollect = '',\n      textBlocks = [];\n  source.split(' ').map(function (word) {\n    while (word.length > textLength) {\n      textBlocks.push(sourceCollect + word.substring(0, textLength - sourceCollect.length));\n      word = word.substring(textLength - sourceCollect.length);\n      sourceCollect = ' ';\n    }\n\n    if (sourceCollect.length + word.length <= textLength) {\n      sourceCollect += word + ' ';\n    } else {\n      textBlocks.push(sourceCollect);\n      sourceCollect = word += ' ';\n    }\n  });\n\n  if (sourceCollect) {\n    textBlocks.push(sourceCollect);\n  }\n\n  return textBlocks;\n};\n\nexport var breakUptext;\n\nfunction generateHeader(doc) {\n  doc.setFontType('bold');\n  doc.setFontSize(10);\n  doc.text('FirstName LastName', 5, 10);\n  doc.text('Date', 5, 15);\n  doc.text('Date', 100, 15);\n  doc.setFontSize(22);\n  doc.text('Path to Mastery', 100, 10);\n}\n\nfunction generatePieceHeader(doc) {\n  /*     doc.line(20, 20, 60, 20)\n      doc.line(100, 20, 100, 60) // vertical line\n      doc.rect(20, 20, 10, 10) */\n  doc.setFontSize(9);\n  doc.setFontType('bold');\n  doc.rect(10, 40, 184, 40); //x,y,width,height\n\n  doc.text('Piece', 12, 63);\n  doc.rect(194, 40, 85, 40); //x,y,width,height\n\n  doc.text('Practice Passage', 196, 63);\n  doc.rect(279, 40, 90, 40); //x,y,width,height\n\n  doc.text('Practice Strategy', 281, 63);\n  doc.rect(369, 40, 216, 40); //x,y,width,height\n\n  doc.line(369, 60, 585, 60);\n  doc.line(369 + 24 * 1, 60, 369 + 24 * 1, 80);\n  doc.line(369 + 24 * 2, 60, 369 + 24 * 2, 80);\n  doc.line(369 + 24 * 3, 60, 369 + 24 * 3, 80);\n  doc.line(369 + 24 * 4, 60, 369 + 24 * 4, 80);\n  doc.line(369 + 24 * 5, 60, 369 + 24 * 5, 80);\n  doc.line(369 + 24 * 6, 60, 369 + 24 * 6, 80);\n  doc.line(369 + 24 * 7, 60, 369 + 24 * 7, 80); //doc.line(369+24*1,60,369+24*1,80);\n\n  doc.text('M', 369 + (24 * 1 - 16), 73);\n  doc.text('T', 369 + (24 * 2 - 16), 73);\n  doc.text('W', 369 + (24 * 3 - 16), 73);\n  doc.text('H', 369 + (24 * 4 - 16), 73);\n  doc.text('F', 369 + (24 * 5 - 16), 73);\n  doc.text('Sat', 365 + (24 * 6 - 16), 73);\n  doc.text('Sun', 365 + (24 * 7 - 16), 73);\n  doc.text('Mastery', 369 + (24 * 8 - 16), 73);\n  doc.setFontType('normal');\n  doc.text('Mark time spent / check days practiced', 387, 53);\n}",{"version":3,"sources":["src/pdf.js"],"names":["generatePDF","data","doc","jsPDF","setFontSize","setTextColor","setFontStyle","generatePieceHeader","columns","title","dataKey","autoTable","theme","startY","tableWidth","margin","styles","lineColor","drawHeaderCell","cell","drawHeaderRow","row","drawRow","index","addPage","cursor","y","raw","measures","length","height","strategies","source","Math","ceil","drawCell","column","width","text","push","sourceCollect","concat","breakUptext","tempo","trackHeight","measureIndex","hitNewPage","map","measure","currentMeasure","deliminateText","rect","x","removeIndex","strategy","indexS","currentStrategy","label","line","notes","noteBlocks","hasLink","link","block","indexBlock","textLength","substring","trim","textBlocks","split","word","generateHeader","setFontType"],"mappings":"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","sourceRoot":"/Users/tdowdle/Projects/MyMusicMastery/strategies","sourcesContent":["export function generatePDF(data) {\n\n    var doc = new jsPDF('p', 'pt');\n\n    doc.setFontSize(12);\n    doc.setTextColor(0);\n    doc.setFontStyle('bold');\n    //doc.text('Timothy McMurray', 40, 50);\n\n    generatePieceHeader(doc);\n\n    doc.setTextColor(0);\n\n    var columns = [\n        {title: \"Piece\", dataKey: \"name\"},\n        {title: \"Measure\", dataKey: \"measures\"}\n    ];\n\n    //return doc;\n\n    \n    doc.autoTable(columns, data, {\n        theme: 'grid',\n        startY: 80,\n        tableWidth: 575,\n        margin: 10,\n        styles: {\n            lineColor: [0, 0, 0]\n        },\n        drawHeaderCell: function (cell, data) {\n             \n            return false;\n        },\n        drawHeaderRow: function (row, data) { \n            return false;\n        },\n        drawRow: function (row, data) {\n            if(row.index > 0){\n                doc.addPage();\n                generatePieceHeader(doc);\n                data.cursor.y = 80;\n            }\n            //calculate row height based on data.row.raw.source\n            if(data.row.raw.measures && data.row.raw.measures.length){\n                row.height = 200;\n            }\n            else if(data.row.strategies) {\n                row.height = 20 * data.row.raw.strategies.length;\n            }\n\n            if(row.height < 80){\n                row.height = 80;\n            }\n\n            if(60+(data.row.raw.source.length/50)*20 > row.height){\n                row.height = 60 + Math.ceil(data.row.raw.source.length/50)*20;\n            }\n\n        },\n        drawCell: function (cell, data) {\n            if(data.column.index === 0){\n                cell.width = 184;\n                if(data.row.raw.source){\n                    cell.text.push('');\n                    cell.text.push('Source:');\n                    let sourceCollect = '';\n\n                    cell.text = cell.text.concat(breakUptext(40,data.row.raw.source));\n\n                    cell.text.push('');\n                }\n                if(data.row.raw.tempo){\n                    cell.text.push('Assigned tempo: '+data.row.raw.tempo);\n                }\n            }\n            if(data.column.index === 1){\n                if(data.row.raw.measures && data.row.raw.measures.length){\n\n                    let trackHeight = 0,\n                        measureIndex = 0,\n                        height,\n                        hitNewPage = false;\n\n                    //doc.text(strategy.label, cell.x+87, cell.y+(20*(index))+14);\n\n                    data.row.raw.measures.map((measure,index)=>{\n                        height = measure.strategies.length*20;\n                        if(height <= 40){\n                            height = 60;\n                        }\n\n                        let currentMeasure = deliminateText(13,measure.measure);\n\n                        doc.rect(cell.x, cell.y+trackHeight, 85, height); //x,y,width,height\n                        doc.text('m. '+currentMeasure, cell.x+4, cell.y+trackHeight+14);\n                        doc.text('tempo '+measure.tempo, cell.x+4, cell.y+trackHeight+29);\n\n                        doc.setFontSize(9);\n\n                        let removeIndex = 0; \n\n                        measure.strategies.map((strategy,indexS)=>{\n\n                            indexS = indexS - removeIndex;\n\n                            let currentStrategy = deliminateText(19,strategy.label);\n\n                            doc.rect(cell.x+85, cell.y+trackHeight+(20*(indexS)), 306, 20); //x,y,width,height\n                            doc.text(currentStrategy, cell.x+87, cell.y+trackHeight+(20*(indexS))+14);\n\n                            doc.line(369,cell.y+trackHeight+(20*indexS),369,cell.y+trackHeight+(20*indexS)+20);\n                            doc.line(369+24*1,cell.y+trackHeight+(20*indexS),369+24*1,cell.y+trackHeight+(20*indexS)+20);  //x,y\n                            doc.line(369+24*2,cell.y+trackHeight+(20*indexS),369+24*2,cell.y+trackHeight+(20*indexS)+20);\n                            doc.line(369+24*3,cell.y+trackHeight+(20*indexS),369+24*3,cell.y+trackHeight+(20*indexS)+20);\n                            doc.line(369+24*4,cell.y+trackHeight+(20*indexS),369+24*4,cell.y+trackHeight+(20*indexS)+20);\n                            doc.line(369+24*5,cell.y+trackHeight+(20*indexS),369+24*5,cell.y+trackHeight+(20*indexS)+20);\n                            doc.line(369+24*6,cell.y+trackHeight+(20*indexS),369+24*6,cell.y+trackHeight+(20*indexS)+20);\n                            doc.line(369+24*7,cell.y+trackHeight+(20*indexS),369+24*7,cell.y+trackHeight+(20*indexS)+20);\n\n                            if(trackHeight+(20*indexS) >= 720){\n                                removeIndex = indexS+1;\n                                doc.addPage();\n                                generatePieceHeader(doc);\n                                trackHeight = 0;\n                                hitNewPage = true;\n                                measureIndex = indexS - removeIndex;\n                            }\n                            else {\n                                measureIndex = indexS;\n                            }\n\n\n\n                        });\n\n                        doc.setFontSize(10);\n\n                        if(data.row.raw.measures.length === index+1){\n                            if(data.row.raw.notes){\n\n                                if(!hitNewPage){\n                                    measureIndex = index;\n                                }\n\n                                let noteBlocks = breakUptext(80,data.row.raw.notes),\n                                    hasLink = 0;\n\n                                if(trackHeight+(noteBlocks.length+2)*20 > 630){\n                                    trackHeight = 0;\n                                    measureIndex = 0;\n                                    doc.addPage();\n                                    generatePieceHeader(doc);\n                                }\n\n                                if(trackHeight < 40){\n                                    trackHeight = 40;\n                                }\n\n                                if(data.row.raw.link){\n                                    hasLink = 1;\n                                    doc.setTextColor(0,0,255);\n                                    doc.text(data.row.raw.link,cell.x+4,cell.y+(20*measureIndex)+38+((noteBlocks.length+1)*12)+trackHeight);\n                                    doc.setTextColor(0,0,0);\n                                }\n                                \n                                doc.rect(cell.x, cell.y+(20*(measureIndex))+20+trackHeight, 391, 20+((hasLink+noteBlocks.length)*20));\n                                doc.text('Notes / Comments:',cell.x+2,cell.y+(20*measureIndex)+32+trackHeight);\n                                noteBlocks.map((block,indexBlock)=>{\n                                    doc.text(block,cell.x+4,cell.y+(20*measureIndex)+32+((indexBlock+1)*12)+trackHeight); \n                                });  \n                            }\n                        }\n\n                        trackHeight += height;                        \n                        \n                    });\n                        \n                }\n                else {\n\n                    doc.setFontSize(9);\n\n                    if(!data.row.raw.strategies){\n                        data.row.raw.strategies = [];\n                    }\n\n                    data.row.raw.strategies.map((strategy,index)=>{\n\n                        let currentStrategy = deliminateText(19,strategy.label);\n\n                        doc.rect(cell.x+85, cell.y+(20*(index)), 306, 20); //x,y,width,height\n                        doc.text(currentStrategy, cell.x+87, cell.y+(20*(index))+14);\n\n                        doc.line(369,cell.y+(20*index),369,cell.y+(20*index)+20);\n                        doc.line(369+24*1,cell.y+(20*index),369+24*1,cell.y+(20*index)+20);  //x,y\n                        doc.line(369+24*2,cell.y+(20*index),369+24*2,cell.y+(20*index)+20);\n                        doc.line(369+24*3,cell.y+(20*index),369+24*3,cell.y+(20*index)+20);\n                        doc.line(369+24*4,cell.y+(20*index),369+24*4,cell.y+(20*index)+20);\n                        doc.line(369+24*5,cell.y+(20*index),369+24*5,cell.y+(20*index)+20);\n                        doc.line(369+24*6,cell.y+(20*index),369+24*6,cell.y+(20*index)+20);\n                        doc.line(369+24*7,cell.y+(20*index),369+24*7,cell.y+(20*index)+20);\n                    \n                        //doc.rect(cell.x, cell.y, 100, cell.height * (index+1), 'S');\n                        if(data.row.raw.strategies.length === index+1){\n\n                            doc.setFontSize(10);\n\n                            if(data.row.raw.notes){\n\n                                let noteBlocks = breakUptext(80,data.row.raw.notes),\n                                    hasLink = 0;\n\n                                if(data.row.raw.link){\n                                    hasLink = 1;\n                                    doc.setTextColor(0,0,255);\n                                    doc.text(data.row.raw.link,cell.x+4,cell.y+(20*index)+41+((noteBlocks.length+1)*12));\n                                    doc.setTextColor(0,0,0);\n                                }\n\n                                doc.rect(cell.x, cell.y+(20*(index))+20, 391, 20+((hasLink+noteBlocks.length)*20));\n                                doc.text('Notes / Comments:',cell.x+2,cell.y+(20*index)+33);\n                                noteBlocks.map((block,indexBlock)=>{\n                                    doc.text(block,cell.x+4,cell.y+(20*index)+33+((indexBlock+1)*12)); \n                                });  \n                            }\n                        }\n                    });\n\n                    if(!data.row.raw.strategies.length){\n                     \n                        if(data.row.raw.notes){\n\n                            let noteBlocks = breakUptext(80,data.row.raw.notes),\n                                hasLink = 0;\n\n                            if(data.row.raw.link){\n                                hasLink = 1;\n                                doc.setTextColor(0,0,255);\n                                doc.text(data.row.raw.link,cell.x+4,cell.y+(20)+41+((noteBlocks.length+1)*12));\n                                doc.setTextColor(0,0,0);\n                            }\n\n                            doc.rect(cell.x, cell.y+(20)+20, 391, 20+((hasLink+noteBlocks.length)*20));\n                            doc.text('Notes / Comments:',cell.x+2,cell.y+(20)+33);\n                            noteBlocks.map((block,indexBlock)=>{\n                                doc.text(block,cell.x+4,cell.y+(20)+33+((indexBlock+1)*12)); \n                            });  \n                        }\n                        \n                    }\n                }\n\n\n                return false;\n            }\n        }\n    });\n\n    // doc.addPage();\n\n    return doc;\n}\n\nvar deliminateText = function (textLength,source){\n    if(source.length > textLength){\n        source = source.substring(0,textLength).trim()+'..';\n    }\n    return source;\n}\n\nvar breakUptext = function (textLength,source) {\n    let sourceCollect = '',\n        textBlocks = [];\n\n        source.split(' ').map((word)=>{\n        while(word.length > textLength){\n            textBlocks.push(sourceCollect + word.substring(0,textLength-sourceCollect.length));\n            word = word.substring(textLength-sourceCollect.length);\n            sourceCollect = ' ';\n        }\n        if(sourceCollect.length + word.length <= textLength){\n            sourceCollect += word + ' ';\n        }\n        else {\n            textBlocks.push(sourceCollect);\n            sourceCollect = word += ' ';\n        }\n    });\n    if(sourceCollect){\n        textBlocks.push(sourceCollect);\n    }\n    return textBlocks;\n};\n\nexport var breakUptext;\n\nfunction generateHeader(doc){\n    doc.setFontType('bold');\n    doc.setFontSize(10);\n    doc.text('FirstName LastName', 5, 10);\n    doc.text('Date', 5, 15);\n\n    doc.text('Date', 100, 15);\n\n    doc.setFontSize(22);\n    doc.text('Path to Mastery', 100, 10);\n\n}\n\nfunction generatePieceHeader(doc){\n\n/*     doc.line(20, 20, 60, 20)\n    doc.line(100, 20, 100, 60) // vertical line\n    doc.rect(20, 20, 10, 10) */\n\n    doc.setFontSize(9);\n    doc.setFontType('bold');\n\n    doc.rect(10, 40, 184, 40); //x,y,width,height\n    doc.text('Piece', 12, 63);\n    doc.rect(194, 40, 85, 40); //x,y,width,height\n    doc.text('Practice Passage', 196, 63);\n    doc.rect(279, 40, 90, 40); //x,y,width,height\n    doc.text('Practice Strategy', 281, 63);\n\n    doc.rect(369, 40, 216, 40); //x,y,width,height\n    doc.line(369, 60, 585, 60);\n\n    doc.line(369+24*1,60,369+24*1,80);\n    doc.line(369+24*2,60,369+24*2,80);\n    doc.line(369+24*3,60,369+24*3,80);\n\n    doc.line(369+24*4,60,369+24*4,80);\n    doc.line(369+24*5,60,369+24*5,80);\n    doc.line(369+24*6,60,369+24*6,80);\n\n    doc.line(369+24*7,60,369+24*7,80);\n\n    //doc.line(369+24*1,60,369+24*1,80);\n\n    doc.text('M', 369+(24*1-16), 73);\n    doc.text('T', 369+(24*2-16), 73);\n    doc.text('W', 369+(24*3-16), 73);\n    doc.text('H', 369+(24*4-16), 73);\n    doc.text('F', 369+(24*5-16), 73);\n    doc.text('Sat', 365+(24*6-16), 73);\n    doc.text('Sun', 365+(24*7-16), 73);\n    doc.text('Mastery', 369+(24*8-16), 73);\n\n\n    doc.setFontType('normal');\n\n    doc.text('Mark time spent / check days practiced', 387, 53);\n\n\n\n}"]}]}