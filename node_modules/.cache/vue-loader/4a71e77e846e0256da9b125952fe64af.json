{"remainingRequest":"/Users/tdowdle/Projects/MyMusicMastery/strategies/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tdowdle/Projects/MyMusicMastery/strategies/src/components/steps/Steps.vue?vue&type=style&index=0&id=3ff0be82&scoped=true&lang=css","dependencies":[{"path":"/Users/tdowdle/Projects/MyMusicMastery/strategies/src/components/steps/Steps.vue","mtime":1529558888370},{"path":"/Users/tdowdle/Projects/MyMusicMastery/strategies/node_modules/css-loader/index.js","mtime":1529560902666},{"path":"/Users/tdowdle/Projects/MyMusicMastery/strategies/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1521907989000},{"path":"/Users/tdowdle/Projects/MyMusicMastery/strategies/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tdowdle/Projects/MyMusicMastery/strategies/node_modules/cache-loader/dist/cjs.js","mtime":1529560903522},{"path":"/Users/tdowdle/Projects/MyMusicMastery/strategies/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.steps >>> {\n    font-family: 'Roboto', sans-serif;\n    font-size: 16px;\n    font-weight: 300;\n    color: #888;\n    line-height: 30px;\n    text-align: center;\n}\n\n.steps >>> .form-box {\n    padding-top: 40px;\n}\n\n.steps >>> .form-top {\n    overflow: hidden;\n    padding: 0 25px 15px 25px;\n    background: #fff;\n    -moz-border-radius: 4px 4px 0 0; -webkit-border-radius: 4px 4px 0 0; border-radius: 4px 4px 0 0;\n    text-align: left;\n}\n\n.steps >>> .fade-enter-active, .fade-leave-active {\n    transition: opacity .5s;\n}\n.steps >>> .fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n    opacity: 0;\n}\n\n.steps >>> .form-top-left {\n    float: left;\n    width: 75%;\n    padding-top: 25px;\n}\n\n.steps >>> .form-top-left h3 { margin-top: 0; }\n\n.steps >>> .form-top-right {\n    float: left;\n    width: 25%;\n    padding-top: 5px;\n    font-size: 66px;\n    color: #ddd;\n    line-height: 100px;\n    text-align: right;\n}\n\n.steps >>> .form-bottom {\n    padding: 25px 25px 30px 25px;\n    background: #eee;\n    -moz-border-radius: 0 0 4px 4px; -webkit-border-radius: 0 0 4px 4px; border-radius: 0 0 4px 4px;\n    text-align: left;\n}\n\n.steps >>> h3 {\n    font-size: 22px;\n    font-weight: 300;\n    color: #555;\n    line-height: 30px;\n}\n\n.steps >>> .small {\n    font-size:.7rem;\n}\n\n.steps >>> .v-select.pieces-select .selected-tag {\n    display:none;\n}\n\n.steps >>> .v-select.strategy-select {\n    position: relative;\n    flex: 1 1 auto;\n    width: 1%;\n    margin-bottom: 0;\n}\n\n.steps >>> .v-select.strategy-select .dropdown-toggle {\n    height:calc(2.25rem + 2px);\n    border-top-left-radius:0;\n    border-bottom-left-radius:0;\n}\n\n.steps >>> .white {\n    color:white;\n}\n\n.steps >>> .black {\n    color:black;\n}\n\n.steps >>> button.go {\n    height: 50px;\n    margin: 0 3px 0 0;\n    padding: 0 20px;\n    vertical-align: middle;\n    background: #19b9e7;\n    border: 0;\n    font-family: 'Roboto', sans-serif;\n    font-size: 16px;\n    font-weight: 300;\n    line-height: 50px;\n    color: #fff;\n    -moz-border-radius: 4px; -webkit-border-radius: 4px; border-radius: 4px;\n    text-shadow: none;\n    -moz-box-shadow: none; -webkit-box-shadow: none; box-shadow: none;\n    -o-transition: all .3s; -moz-transition: all .3s; -webkit-transition: all .3s; -ms-transition: all .3s; transition: all .3s;\n}\n\n.steps >>> fieldset {\n    border: none;\n}\n\n.steps >>> .form-bottom textarea {\n    height: 100px;\n}\n\n.steps >>> .form-bottom button.btn {\n    min-width: 105px;\n}\n\n.steps >>> .form-bottom .input-error {\n    border-color: #19b9e7;\n}\n\n.steps >>> .form-bottom textarea {\n    height: 100px;\n}\n\n",{"version":3,"sources":["Steps.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"Steps.vue","sourceRoot":"src/components/steps","sourcesContent":["<template>\n    <div class=\"steps\">\n        <div class=\"row\">\n            <div class=\"col-md-8 offset-md-2 col-sm-7 offset-sm-3 form-box\">\n                <Step1 v-show=\"step1\" :pieces=\"pieces\" :selectedPieces=\"selectedPieces\" />\n                <Step2 v-if=\"step2\" :selectedPieces=\"selectedPieces\" />\n                <Step3 v-if=\"step3\" :selectedPieces=\"selectedPieces\" :strategies=\"strategies\" />\n                <Step4 v-if=\"step4\" :selectedPieces=\"selectedPieces\" :entryUID=\"entryUID\" :database=\"database\" :userUID=\"userUID\" />\n            </div>\n        </div>\n        <br />\n        <br />\n    </div>\n</template>\n\n<script>\nimport Step1 from './Step1.vue';\nimport Step2 from './Step2.vue';\nimport Step3 from './Step3.vue';\nimport Step4 from './Step4.vue';\n\nexport default {\n  name: 'Steps',\n  components: {\n    Step1,\n    Step2,\n    Step3,\n    Step4\n  },\n  props: {\n      entryUID:String,\n      database:Object,\n      userUID:String,\n      existingEntry:Object\n  },\n  beforeMount(){\n        let vueThis = this;\n\n        let pieces, sources;\n        var xhttp = new XMLHttpRequest();\n        xhttp.onreadystatechange = function() {\n            if (this.readyState == 4 && this.status == 200) {\n                let data = JSON.parse(xhttp.responseText);\n\n                sources = data.valueRanges[1].values;\n                sources.shift();\n                vueThis.sourceMap = sources.reduce((prev,row)=>{\n                    prev[row[1].toString()] = row[0];\n                    return prev;\n                },vueThis.sourceMap);\n\n                pieces = data.valueRanges[0].values;\n                pieces.shift();\n                vueThis.pieces = pieces.sort(function (x, y) {\n                    if(x[0] < y[0]) return -1;\n                    if(x[0] > y[0]) return 1;\n                \n                    return x[2] - y[2];\n                }).reduce((prev,row)=>{\n                    prev.map[row[1]] = {\n                                            sourceID:row[2]\n                                       };\n                    prev.rows.push({name:row[0],label:row[0]+' '+row[1],source:vueThis.sourceMap[row[2]],tempo:'',measures:[],strategies:[],id:row[1],link:'',notes:''});\n                    return prev;\n                },vueThis.pieces);\n            }\n\n        };\n\n        xhttp.open(\"GET\", \"https://sheets.googleapis.com/v4/spreadsheets/1uVMJcnjaxyz8_w6xrR5AFiQ8zMktKuOPEsLL3q7YofM/values:batchGet?ranges=Piece!A1:C10&ranges=Source!A:B&key=AIzaSyA251gYOA-3nYb0uOHRvdeF5f-zX2PhmpA\", true);\n        \n        //xhttp.open(\"GET\", \"https://sheets.googleapis.com/v4/spreadsheets/1uVMJcnjaxyz8_w6xrR5AFiQ8zMktKuOPEsLL3q7YofM/values:batchGet?ranges=Piece!A:C&ranges=Source!A:B&key=AIzaSyA251gYOA-3nYb0uOHRvdeF5f-zX2PhmpA\", true);\n        \n        //values:batchGet?ranges=Source!A:B&ranges=Source!A:B\n        ///values/Piece!A:B,Source!A:B?key=AIzaSyA251gYOA-3nYb0uOHRvdeF5f-zX2PhmpA\n        xhttp.send();\n\n        if(vueThis.existingEntry){\n            Object.keys(vueThis.existingEntry).map(key=>{\n                if(key === \"entryName\"){\n                    this.selectedPieces.entryName = vueThis.existingEntry[key];\n                }\n                else {\n                    this.selectedPieces.push(vueThis.existingEntry[key]);\n                }\n            });\n            vueThis.step1 = false;\n            vueThis.step4 = true;\n            vueThis.step = 4;\n        }\n    \n    },\n  created: function(){\n  },\n  data: function(){\n    return {\n      sourceMap:{\n      },\n      pieces:{\n        map:{},\n        rows:[]\n      },\n      step1:true,\n      step2:false,\n      step3:false,\n      step3first:false,\n      step4:false,\n      login:false,\n      step:1,\n      selectedPieces:[],\n      strategies:[],\n    }\n  },\n  methods: {\n    handleNewEntry(option){\n        return Object.keys(option).reduce((name,key)=>{\n            name += option[key];\n            return name;\n        },\"\");\n    },\n    exitEntry(){\n        this.$emit('update',{ref:'newEntry',val:false});\n        this.$emit('update',{ref:'entryUID',val:''});\n        this.$emit('update',{ref:'existingEntry',val:null});\n        this.$emit('update',{ref:'home',val:true});\n    },\n    go(goTo){\n        if(!this.step3first && goTo === 3){\n            this.step3First = true;\n            this.loadStrategies();\n        }\n\n        this['step'+this.step] = false;\n        setTimeout(()=>{\n            this.step = goTo;\n            this['step'+goTo] = true;   \n        },500); \n    },\n    loadStrategies(){\n        let vueThis = this,\n            strategies;\n\n        var xhttp = new XMLHttpRequest();\n        xhttp.onreadystatechange = function() {\n            if (this.readyState == 4 && this.status == 200) {\n                let data = JSON.parse(xhttp.responseText);\n                strategies = data.valueRanges[0].values;\n                strategies.shift();\n                vueThis.strategies = strategies.sort(function (x, y) {\n                    if(x[0] < y[0]) return -1;\n                    if(x[0] > y[0]) return 1;\n                \n                    return 0;\n                }).reduce((prev,row)=>{\n                    prev.push({label:row[0],id:row[1],description:row[2] || ''});\n                    return prev;\n                },vueThis.strategies);\n            }\n        };            \n        xhttp.open(\"GET\", \"https://sheets.googleapis.com/v4/spreadsheets/1SOvyvvAGUuniEf2EXT0jSk4v0cDdq_mxIFRmH1Tvilk/values:batchGet?ranges=PS!A:C&key=AIzaSyA251gYOA-3nYb0uOHRvdeF5f-zX2PhmpA\", true);\n        xhttp.send();\n    }\n  }\n}\n</script>\n\n<style scoped>\n    .steps >>> {\n        font-family: 'Roboto', sans-serif;\n        font-size: 16px;\n        font-weight: 300;\n        color: #888;\n        line-height: 30px;\n        text-align: center;\n    }\n\n    .steps >>> .form-box {\n        padding-top: 40px;\n    }\n\n    .steps >>> .form-top {\n        overflow: hidden;\n        padding: 0 25px 15px 25px;\n        background: #fff;\n        -moz-border-radius: 4px 4px 0 0; -webkit-border-radius: 4px 4px 0 0; border-radius: 4px 4px 0 0;\n        text-align: left;\n    }\n\n    .steps >>> .fade-enter-active, .fade-leave-active {\n        transition: opacity .5s;\n    }\n    .steps >>> .fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n        opacity: 0;\n    }\n\n    .steps >>> .form-top-left {\n        float: left;\n        width: 75%;\n        padding-top: 25px;\n    }\n\n    .steps >>> .form-top-left h3 { margin-top: 0; }\n\n    .steps >>> .form-top-right {\n        float: left;\n        width: 25%;\n        padding-top: 5px;\n        font-size: 66px;\n        color: #ddd;\n        line-height: 100px;\n        text-align: right;\n    }\n\n    .steps >>> .form-bottom {\n        padding: 25px 25px 30px 25px;\n        background: #eee;\n        -moz-border-radius: 0 0 4px 4px; -webkit-border-radius: 0 0 4px 4px; border-radius: 0 0 4px 4px;\n        text-align: left;\n    }\n\n    .steps >>> h3 {\n        font-size: 22px;\n        font-weight: 300;\n        color: #555;\n        line-height: 30px;\n    }\n\n    .steps >>> .small {\n        font-size:.7rem;\n    }\n\n    .steps >>> .v-select.pieces-select .selected-tag {\n        display:none;\n    }\n\n    .steps >>> .v-select.strategy-select {\n        position: relative;\n        flex: 1 1 auto;\n        width: 1%;\n        margin-bottom: 0;\n    }\n\n    .steps >>> .v-select.strategy-select .dropdown-toggle {\n        height:calc(2.25rem + 2px);\n        border-top-left-radius:0;\n        border-bottom-left-radius:0;\n    }\n\n    .steps >>> .white {\n        color:white;\n    }\n\n    .steps >>> .black {\n        color:black;\n    }\n\n    .steps >>> button.go {\n        height: 50px;\n        margin: 0 3px 0 0;\n        padding: 0 20px;\n        vertical-align: middle;\n        background: #19b9e7;\n        border: 0;\n        font-family: 'Roboto', sans-serif;\n        font-size: 16px;\n        font-weight: 300;\n        line-height: 50px;\n        color: #fff;\n        -moz-border-radius: 4px; -webkit-border-radius: 4px; border-radius: 4px;\n        text-shadow: none;\n        -moz-box-shadow: none; -webkit-box-shadow: none; box-shadow: none;\n        -o-transition: all .3s; -moz-transition: all .3s; -webkit-transition: all .3s; -ms-transition: all .3s; transition: all .3s;\n    }\n\n    .steps >>> fieldset {\n        border: none;\n    }\n\n    .steps >>> .form-bottom textarea {\n        height: 100px;\n    }\n\n    .steps >>> .form-bottom button.btn {\n        min-width: 105px;\n    }\n\n    .steps >>> .form-bottom .input-error {\n        border-color: #19b9e7;\n    }\n\n    .steps >>> .form-bottom textarea {\n        height: 100px;\n    }\n\n</style>"]}]}